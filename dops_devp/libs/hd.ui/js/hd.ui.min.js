(function(){angular.module("hd.ui",["hd.radio","hd.checkbox","hd.switch","hd.tip","hd.dateInput","hd.searchInput","hd.loading","hd.dialog","hd.page","hd.autoFocus"])})();window.hdUtils={randomToString32:function(e){e=e||32;var t="abcdefghijklmnopqrstuvwxyz0123456789";if(arguments[1]!=undefined&&arguments[1]==true){t="0123456789"}var i=t.length;var n="";for(var a=0;a<e;a++){n+=t.charAt(Math.floor(Math.random()*(i+1)))}return n},getUuid:function(){function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(t);if(i!=null)return unescape(i[2]);return null},idCardValid:function(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "};var i="";var n=true;if(!e||!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e)){i="身份证号格式错误";n=false}else if(!t[e.substr(0,2)]){i="身份证号地址编码错误";n=false}else{if(e.length==18){e=e.split("");var a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];var l=[1,0,"X",9,8,7,6,5,4,3,2];var r=0;var s=0;var o=0;for(var d=0;d<17;d++){s=e[d];o=a[d];r+=s*o}var c=l[r%11];if(l[r%11]!=e[17]){i="身份证号校验位错误";n=false}}}return i},digitChk:function(e){var t=event.keyCode>=48&&event.keyCode<=57;var i=event.keyCode==46;var n=event.keyCode==45;var a=t;if(parseFloat(e.getAttribute("hdFix"))>0){a=a||i}if(parseFloat(e.getAttribute("hdMin"))<0){a=a||n}return a},digitLmt:function(e){if(e.value==""){return}var t=!isNaN(e.value);if(!t){e.value="";return false}if(parseFloat(e.value)>parseFloat(e.getAttribute("hdMax"))){e.value=parseFloat(e.getAttribute("hdMax"))}if(parseFloat(e.value)<parseFloat(e.getAttribute("hdMin"))){e.value=parseFloat(e.getAttribute("hdMin"))}e.value=parseFloat(e.value).toFixed(parseFloat(e.getAttribute("hdFix")))}};(function(){angular.module("hd.tip",[]).provider("hdTip",e);function e(){var e=this;e.timeout=2e3;e.setDefaultTimeout=function(t){e.timeout=t};e.$get=["$timeout",function(t){var i=null;return{tip:n};function n(n,a,l,r){var s=this;var o="hdTip-"+hdUtils.getUuid();var d='<div class="modal-tips" id='+o+' style="display: block;position: relative;margin-bottom: 10px;"><div class="image-tip">';if(a=="success"){d=d+'<i class="iconfont icon-chenggong i-success"></i>'}else if(a=="error"){d=d+'<i class="iconfont icon-guanbi i-error" ng-show="ngTip.type==\'error\'"></i>'}else if(a=="warn"){d=d+' <i class="iconfont icon-jinggao i-warn" ng-show="ngTip.type==\'warn\'"></i>'}else if(a=="info"){d=d+' <i class="iconfont icon-xiaoxitixing i-info" ng-show="ngTip.type==\'info\'"></i>'}d=d+'  </div><table class="text-tip"><tr><td>';if(a=="success"){d=d+' <div><label class="i-success">'+n+"</label><span>"+(l?l:"")+"</span></div>"}else if(a=="error"){d=d+' <div><label class="i-error">'+n+"</label><span>"+(l?l:"")+"</span></div>"}else if(a=="warn"){d=d+' <div><label class="i-warn">'+n+"</label><span>"+(l?l:"")+"</span></div>"}else if(a=="info"){d=d+' <div><label class="i-info">'+n+"</label><span>"+(l?l:"")+"</span></div>"}d=d+"</td></tr></table></div>";$("body").append(d);i=t(function(){$("#"+o).remove()},e.timeout)}}]}})();(function(){var e=document.createElement("hd-dialog");e.id="commonHdDialog";document.body.appendChild(e);var t=document.createElement("hd-patch");document.body.appendChild(t);var i=document.createElement("hd-dialog");i.style.zIndex=1001;i.id="patchInfoDialog";document.body.appendChild(i);angular.module("hd.dialog",[]).directive("hdDialog",a).directive("hdDialogClose",n).factory("hdDialog",l).directive("hdPatch",r).service("hdPatch",s).directive("hdImage",o);function n(){return{restrict:"A",template:"",replace:true,require:["^hdDialog"],transclude:false,link:function(e,t,i,n){t.click(function(){n[0].hide()})}}}a.$inject=["hdDialog"];function a(e){return{restrict:"E",template:'<div class="dialog hd-dialog" ng-class="{\'dialog--open\':provider.isOpen}"><div class="dialog__overlay"></div><div class="dialog__content" style="top:0;left:0"><div class="dialog-custom-content"><div class="hd-dialog-title" ng-show="provider.dialogTitle.length">{{provider.dialogTitle?provider.dialogTitle:dialogTitle}}</div><div class="hd-dialog-close" ng-click="cancle()"><i class="iconfont icon-fou"></i></div><div class="hd-dialog-content hd-dialog-content-default"><table width="100%"><tr><td><div>{{provider.dialogMsg?provider.dialogMsg:dialogMsg}}</div><div style="font-size: 13px;margin-top: 12px;">{{provider.dialogMsg2?provider.dialogMsg2:dialogMsg2}}</div></td></tr></table></div><div class="hd-dialog-button"><span ng-repeat="x in provider.buttons"><button ng-if="x.type==\'submit\'" btnMain="m1" ng-click="typeClick(x.type)" hd-auto-focus="{{x.focus}}">{{x.text}}</button> <button ng-if="x.type==\'close\'" btnMain="m3" ng-click="typeClick(x.type)" hd-auto-focus="{{x.focus}}">{{x.text}}</button></span></div></div><div ng-transclude class="tab-ng-transclude"></div></div></div>',replace:true,transclude:true,scope:{dialogTitle:"@",dialogMsg:"@",dialogSubmit:"&"},controller:["$scope",function(e){this.hide=function(){e.cancle();e.$apply()}}],link:function(t,i,n){var a=i.find(".tab-ng-transclude");if(a.children().length==0){i.find(".dialog-custom-content").show()}else{i.find(".dialog-custom-content").remove()}var l=n["id"];if(!l){l="hdDialog-"+hdUtils.getUuid();i.attr("id",l)}t.submit=function(){e.submit(l);if(t.dialogSubmit){t.dialogSubmit()}};t.cancle=function(){e.hide(l)};t.typeClick=function(e){if(e=="submit"){t.submit()}if(e=="close"){t.cancle()}};t.provider=e.register(l);if(n.show){t.provider.isOpen=true}}}}function l(){var e=[];var t={};var i=function(e){if(t[e]==null){t[e]={}}t[e].dialogType="";t[e].dialogTitle="";t[e].dialogMsg="";t[e].dialogMsg2="";t[e].submitCallback=null;t[e].closeCallback=null;t[e].buttons=[];t[e].isOpen=false;return t[e]};var n=function(i,n){if(i==null){i="commonHdDialog"}if($("#"+i).length>0){if(!t[i]){throw"hd-dialog:  unregister  id="+i+"   !!! "}t[i].dialogType="hd-dialog-default";if(n){if(n.dialogType){t[i].dialogType=n.dialogType}t[i].dialogTitle=n.dialogTitle;t[i].dialogMsg=n.dialogMsg;t[i].dialogMsg2=n.dialogMsg2;t[i].submitCallback=n.submitCallback;t[i].closeCallback=n.closeCallback;if(n.buttons){t[i].buttons=n.buttons}else{t[i].buttons=[{text:"确认",type:"submit",focus:true},{text:"取消",type:"close"}]}}$("#"+i).show();t[i].isOpen=true;$(".ui-view-content").css("z-index","100");e.push(i);$("#"+i+" .hd-dialog-title").each(function(e,t){new d($(this)[0])})}else{throw"hd-dialog:  document  not found  id="+i+" element"}};var a=function(n){if(!n){n="commonHdDialog"}$(".ui-view-content").css("z-index","0");t[n]&&t[n].closeCallback&&t[n].closeCallback();i(n);$("#"+n+" .dialog__content").css("top",0).css("left",0);$("#"+n).hide();e.pop()};var l=function(e){if(t[e].submitCallback){t[e].submitCallback()}};var r=function(){for(var e in t){a(e)}};$(document).keyup(function(t){switch(t.keyCode){case 27:if(e.length>0&&e[e.length-1]){a(e[e.length-1])}}});return{show:n,hide:a,hideAll:r,submit:l,register:i}}r.$inject=["hdPatch","$timeout","hdDialog"];function r(e,t,i){return{restrict:"E",template:'<div class="dialog patch-dialog hd-dialog hd-dialog-patch" ng-class="{\'dialog--open\':provider.isOpen}" style="z-index: 1001"><div class="dialog__overlay"></div><div class="dialog__content" style="top:0;left:0"><div class="hd-dialog-title" ng-show="provider.dialogTitle.length">{{provider.dialogTitle?provider.dialogTitle:dialogTitle}}</div><div class="hd-dialog-content"><div class="hd-patch-title">批量提交进度：{{provider.requestTotal}}/{{provider.allTotal}}</div><div class="hd-progress"><div class="hd-progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{width:(provider.progress+\'%\')}"><span class="sr-only">{{provider.progress +\'%\'}}</span></div></div><div><span class="hd-patch-success-info"><i class="iconfont icon-chenggong"></i> 成功：<span class="hd-patch-success-info-number">{{provider.successTotal}}</span> 条</span> <span class="hd-patch-error-info"><i class="iconfont icon-guanbi"></i> 失败：<span class="hd-patch-error-info-number">{{provider.errorTotal}}</span> 条</span><div style="clear: both;"></div></div><div class="hd-patch-desc"><div ng-if="provider.data&&provider.errorParseParams" ng-repeat="item in provider.responses"><div ng-if="!item.data.success">{{provider.errorParseParams.name}}:<span>{{provider.data[$index][provider.errorParseParams.id]}}</span> 失败原因:<div ng-repeat="errorItem in item.data.message"><pre style="font-family: inherit;">{{errorItem}}</pre></div></div></div></div></div><div class="hd-dialog-button"><button ng-show="provider.status==0" btnMain="m1" ng-click="submit()">确定</button> <button ng-show="provider.status==3||provider.status==2" btnMain="m2" ng-click="finish()">关闭</button> <button ng-show="provider.status==1" btnMain="m3" ng-click="cancle()">取消提交</button></div></div></div>',scope:{dialogTitle:"@",dialogMsg:"@",dialogSubmit:"&"},link:function(n,a){n.submit=function(){e.submit();if(n.dialogSubmit){n.dialogSubmit()}};n.finish=function(){e.hide()};n.cancle=function(){e.close();e.status=2;var t=false;i.show("patchInfoDialog",{dialogTitle:"提示",dialogMsg:"确认要取消提交？",dialogMsg2:"取消后，将不能再继续提交",closeCallback:function(){if(t){}else{e.open();e.status=1;e.submit()}},submitCallback:function(){t=true;i.hide("patchInfoDialog");e.open()}})};n.provider=e;n.$watch("provider.isOpen",function(e){if(e==true){t(function(){a.find("button").focus()})}})}}}function s(){var e=this;e.dialog=null;e.dialogTitle=null;e.dialogMsg=null;e.requests=[];e.responses=[];e.successTotal=0;e.errorTotal=0;e.submitCallback=null;e.requestTotal=0;e.progress=0;e.status=null;e.allTotal=0;e.data=null;e.errorParseParams=null;e.isOpen=false;e.init=function(){e.successTotal=0;e.errorTotal=0;e.requestTotal=0;e.requests=[];e.responses=[];e.dialogTitle=null;e.dialogMsg=null;e.submitCallback=null;e.progress=0;e.status=0;e.allTotal=0;e.data=null;e.errorParseParams=null;e.isOpen=false};e.show=function(t,i){var n=$(".patch-dialog");if(n.length==0){throw"html require  hd-patch dom!!!!"}e.init();if(i){if(i.dialogTitle){e.dialogTitle=i.dialogTitle}else{e.dialogTitle="批量提交"}if(i.dialogMsg){e.dialogMsg=i.dialogMsg}if(i.requests){e.requests=i.requests;e.allTotal=e.requests.length}else{throw"hd-patch module  require  'requests' params!!!!!"}if(i.submitCallback){e.submitCallback=i.submitCallback}if(i.data){e.data=i.data}if(i.errorParseParams){e.errorParseParams=i.errorParseParams}if(i.closeCallback){e.closeCallback=i.closeCallback}}e.isOpen=true;$(".hd-dialog-patch .hd-dialog-title").each(function(e,t){new d($(this)[0],$(this)[0].parentNode)})};e.hide=function(){e.isOpen=false;e.closeCallback&&e.closeCallback();e.submitCallback&&e.submitCallback();e.init();$(".hd-dialog-patch .dialog__content").css("top",0).css("left",0);e.closeCallback&&e.closeCallback()};e.close=function(){e.isOpen=false};e.open=function(){e.isOpen=true};var t=function(i){if(e.status==2){return}var n=e.requests.shift();if(n){n().then(function(n){e.requestTotal++;e.progress=window.Math.ceil(100*e.requestTotal/e.allTotal);if(n.data.success){e.successTotal++}else{e.errorTotal++}e.responses.push(n);t(i)})}else{e.status=3;i(e.responses)}};e.submit=function(){e.status=1;if(e.submitCallback){t(e.submitCallback)}else{t()}}}function o(){return{restrict:"E",template:'<div><div ng-repeat="i in images" style="display: inline-block;cursor: pointer;"><img ng-if="$index<=1" ng-click="browseImage($index)" width="50px" height="50px" style="border: 1px solid black;float: left;" ng-src="{{i.url}}"><div ng-click="browseImage($index+1)" ng-if="$index==1&&images.length>2" style="text-align:center; font-size: 12px;float:left; width: 50px;height: 50px;border: 1px solid black"><a>查看剩余{{images.length-2}}照片</a></div></div><div id="image-dialog" class="dialog image-dialog" ng-class="{\'dialog--open\':isOpen}"><div class="dialog__overlay" ng-click="hide()"></div><div class="dialog__content" style="background-color: transparent;padding: 0; width: auto;"><table style="background: transparent;"><tr><td><span ng-hide="currentIndex==0" ng-click="prevImage()" class="prevBtn" style="color: white;font-size: 40px;z-index: 1;cursor: pointer"><i class="iconfont icon-circleleft" style="font-size: 30px"></i></span></td><td style="position: relative;border: none;"><img style="width: 400px" ng-src="{{currentImage.url}}"><div style="position: absolute;color: white;top:10px;left: 10px;">{{currentImage.title}}</div><div style="position: absolute;color:white;bottom: 10px;left:10px" ng-bind="currentImage.desc"></div></td><td style="border: none;"><span ng-hide="currentIndex==images.length-1" ng-click="nextImage()" class="nextBtn" style="color: white;font-size: 40px;z-index: 1;cursor: pointer"><i class="iconfont icon-circleright" style="font-size: 30px"></i></span></td></tr></table></div></div></div>',replace:true,scope:{images:"="},link:function(e){e.currentImage={};e.currentIndex=0;e.browseImage=function(t){e.isOpen=true;e.currentIndex=t;e.currentImage=e.images[e.currentIndex]};e.prevImage=function(){if(e.currentIndex>0){e.currentIndex=e.currentIndex-1;e.currentImage=e.images[e.currentIndex]}};e.nextImage=function(){if(e.currentIndex<e.images.length){e.currentIndex=e.currentIndex+1;e.currentImage=e.images[e.currentIndex]}};e.hide=function(){e.isOpen=false}}}}function d(e,t){this.obj=e;this.startx=0;this.starty;this.startLeft;this.startTop;this.mainDiv=e.parentNode.parentNode;if(t){this.mainDiv=t}var i=this;this.isDown=false;this.movedown=function(e){e=e?e:window.event;if(!window.captureEvents){this.setCapture()}e.preventDefault();i.isDown=true;i.startx=e.clientX;i.starty=e.clientY;i.startLeft=parseInt(i.mainDiv.style.left);i.startTop=parseInt(i.mainDiv.style.top)};this.move=function(e){e=e?e:window.event;if(i.isDown&&e.which>0){i.mainDiv.style.left=e.clientX-(i.startx-i.startLeft)+"px";i.mainDiv.style.top=e.clientY-(i.starty-i.startTop)+"px"}};this.moveup=function(){i.isDown=false;if(!window.captureEvents){this.releaseCapture()}};this.obj.onmousedown=this.movedown;this.obj.onmousemove=this.move;this.obj.onmouseup=this.moveup;document.addEventListener("mousemove",this.move,true)}})();(function(){var e=document.createElement("hd-loading");document.body.appendChild(e);angular.module("hd.loading",[]).config(["$httpProvider",function(e){e.interceptors.push("loadInterceptor")}]).factory("loadInterceptor",["$q","$rootScope","hdLoading","hdTip",function(e,t,i,n){var a={responseError:function(t){i.hide();if(t.status==401){window.top.location.replace(window.top.location.origin+window.top.location.pathname+window.top.location.search);return e.reject(t)}else if(t.status==403){n.tip("您没有权限,请联系管理员","error");return e.reject(t)}else if(t.status==500){n.tip("服务器出错，请联系管理员","error");return e.reject(t)}return t},response:function(e){if(e.config.noLoading){}else{i.hide()}return e},request:function(e){if(e.noLoading){}else{i.show()}return e}};return a}]).directive("hdLoading",t).service("hdLoading",i);t.$inject=["hdLoading"];function t(e){return{restrict:"AE",transclude:true,template:'<div ng-show="provider.isShow" style="z-index: 999;position: absolute"><div style="background: #FFF;opacity: 0;position: fixed;width: 100%;height: 100%;left: 0;top: 0;"></div><div style="position: fixed;left: 50%;top: 50%;text-align: center"><img style="width: 40px" src="data:image/gif;base64,R0lGODlhPAA8ALMIALa1tUBAQNHPzyEhIX9/f2JiYpuZmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxOWZkYjFiZi02NTc4LTBhNDEtYTMyYy01ZGNmMDEyZTY2NjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjJDRjM3NTA0MDRBMTFFNzgxRkRFQTExOUQwREVGQzkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjJDRjM3NEY0MDRBMTFFNzgxRkRFQTExOUQwREVGQzkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTlmZGIxYmYtNjU3OC0wYTQxLWEzMmMtNWRjZjAxMmU2NjYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE5ZmRiMWJmLTY1NzgtMGE0MS1hMzJjLTVkY2YwMTJlNjY2MiIvPiA8L3Jk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"><div style="text-align:center;margin-top: 5px">努力加载中请稍后...</div></div></div>',replace:true,link:function(t){t.provider=e}}}function i(){var e=0;var t=this;t.isShow=false;this.show=function(){e++;t.isShow=true};this.hide=function(){e--;if(e==0){t.isShow=false}}}})();(function(){angular.module("hd.radio",[]).directive("hdRadio",e);function e(){return{restrict:"AE",template:'<div class="hdRadio"><input type="radio" ng-model="model" ng-value="radioValue" name="{{raidoName}}" ng-disabled="disabled||disabled2"><label ></label></div>',replace:true,require:"?ngModel",scope:{disabled:"=ngDisabled"},link:function(e,t,i,n){e.disabled2=true;if(i.disabled==undefined){e.disabled2=false}e.raidoName=i.name;e.radioValue=i.value;var a=i.note;if(i.value==="false"){e.radioValue=false}else if(i.value==="true"){e.radioValue=true}var l=hdUtils.getUuid();t.find("input").attr("id","hd-radio-"+l);t.find("label").attr("for","hd-radio-"+l);if(a!=""){t.after("<label note></label>");t.next().text(a);t.next().css("padding","0px 4px");t.next().attr("for","hd-radio-"+l)}t.find("label").css("cursor","pointer");t.next().css("cursor","pointer");n.$render=function(){e.model=n.$viewValue};t.find("input").on("change",function(){if($(this).val()==="false"){n.$setViewValue(false)}else if($(this).val()==="true"){n.$setViewValue(true)}else{n.$setViewValue($(this).val())}})}}}})();(function(){angular.module("hd.checkbox",[]).directive("hdCheckbox",e);function e(){return{restrict:"AE",template:'<div class="hdCheck"><input type="checkbox" ng-model="model"  name="{{checkboxName}}" ng-disabled="disabled||disabled2"><label ></label></div>',replace:true,require:["?ngModel"],scope:{disabled:"=ngDisabled"},compile:function(e,t,i){e.find("input").attr("ng-true-value",t.ngTrueValue);e.find("input").attr("ng-false-value",t.ngFalseValue);return function(e,t,i,n){var a=n[0];e.disabled2=true;if(i.disabled==undefined){e.disabled2=false}e.trueValue=i.ngTrueValue;e.falseValue=i.ngFalseValue;e.checkboxName=i.name;var l=hdUtils.getUuid();t.find("input").attr("id","hd-checkbox-"+l);t.find("label").attr("for","hd-checkbox-"+l);if(i.note&&i.note!=""){t.after("<label note></label>");t.next().text(i.note);t.next().css("padding","0px 4px");t.next().attr("for","hd-checkbox-"+l)}t.find("label").css("cursor","pointer");t.next().css("cursor","pointer");a.$render=function(){e.model=a.$viewValue};e.$watch("model",function(){a.$setViewValue(e.model)})}}}}})();(function(){angular.module("hd.searchInput",[]).directive("hdSearchInput",function(){return{restrict:"AE",template:""+"<div hdSearch>"+'  <input placeholder="{{placeholder}}">'+'  <button hdC ng-click="clear()"><i class="iconfont icon-guanbi"></i></button>'+'  <button hdS btnMain="m1" ng-click="searchBtnClick()"><i class="iconfont icon-fangdajing"></i></button>'+"</div>",replace:true,require:"?ngModel",scope:{searchBtnClick:"&"},link:function(e,t,i,n){e.placeholder=i.placeholder;e.clear=function(){t.find("input").val("");n.$setViewValue("")};n.$render=function(){t.find("input").val(n.$viewValue||"")};t.find("input").on("change",function(){n.$setViewValue($(this).val())})}}})})();(function(){angular.module("hd.dateInput",[]).directive("hdDateButton",["$filter",function(){return{restrict:"AE",template:'<div class="hdDate hdDateNoDate"><input type="button"/></div>',replace:true,require:"?ngModel",scope:{disabled:"=ngDisabled",hdDateInputChange:"&"},link:function(e,t,i,n){var a="hd-date-"+hdUtils.getUuid();var l=t.find("input");l.attr("id",a);var r={istoday:false,isclear:false,issure:true,elem:"#"+a,format:"YYYY-MM",choose:function(t){n.$setViewValue(t);e.$apply();if(e.hdDateInputChange){e.hdDateInputChange()}}};l.click(function(){laydate(r);$("#laydate_y").click();$(".laydate_yms").hide().show();$("#laydate_box").show();$("#laydate_box").addClass("hdDateNoDate");$("#laydate_ok").text("关闭");var e=function(e){e.stopPropagation();return false};$(".laydate_top_mask").unbind("click",e).click(e)});n.$render=function(){l.val(n.$viewValue)}}}}]).directive("hdDateInput",["$filter",function(e){return{restrict:"AE",template:'<div class="hdDate"><i class="iconfont icon-riqi"></i><input type="text" ng-disabled="disabled||disabled2"/></div>',replace:true,require:"?ngModel",scope:{disabled:"=ngDisabled",hdDateInputChange:"&"},link:function(e,t,i,n){var a="YYYY-MM-DD";if(i.hdDateInputIsTime){a=a+" hh:mm:ss"}var l="hd-dateInput-"+hdUtils.getUuid();t.find("input").attr("id",l);var r={istoday:true,isclear:false,issure:false,elem:"#"+l,format:a,istime:i.hdDateInputIsTime,choose:function(t){n.$setViewValue(t);e.$apply();if(e.hdDateInputChange){e.hdDateInputChange()}}};if(i.hdDateInputMax){r.max=i.hdDateInputMax}if(i.hdDateInputMin){r.min=i.hdDateInputMin}e.disabled2=true;if(i.disabled==undefined){e.disabled2=false}else{t.click(function(){$("#laydate_box").removeClass("hdDateNoDate");$("#laydate_ok").text("确认");$(".laydate_yms").css("display","");laydate(r)})}e.$watch("disabled",function(e){if(e){t.unbind()}else{t.click(function(){$("#laydate_box").removeClass("hdDateNoDate");$("#laydate_ok").text("确认");$(".laydate_yms").css("display","");laydate(r)})}});n.$render=function(){$(t[0]).find("input").val(n.$viewValue);o.change()};function s(e){if(e==null){return false}var t=e.split(" ");var i=t[0].split("-");if(i.length<3){return false}if(i[0].length!=4||i[0]<1900||i[0]>2099){return false}if(i[1].length!=2){return false}if(i[2].length!=2){return false}var n=null;if(t[1]!=null){n=t[1].split(":")}var a=null;try{if(n==null){a=new Date(i[0],i[1]-1,i[2])}else{a=new Date(i[0],i[1]-1,i[2],n[0],n[1],n[2])}}catch(e){return false}if(i[0]!=a.getFullYear()){return false}if(i[1]!=a.getMonth()+1){return false}if(i[2]!=a.getDate()){return false}if(t[1]!=null){if(n[0]!=a.getHours()){return false}if(n[1]!=a.getMinutes()){return false}}return true}var o=t.find("input");o.change(function(){if(s(o.val())){n.$setViewValue(o.val());return}o.val("");n.$setViewValue("")})}}}]);!function(e){var t={path:"",skin:"default",format:"YYYY-MM-DD",min:"1900-01-01 00:00:00",max:"2099-12-31 23:59:59",isv:false,init:true};var i=null;var n={},a=document,l="createElement",r="getElementById",s="getElementsByTagName";var o=["laydate_box","laydate_void","laydate_click","LayDateSkin","skins/","/laydate.css"];e.laydate=function(t){t=t||{};try{o.event=e.event?e.event:laydate.caller.arguments[0]}catch(e){}n.run(t);return laydate};laydate.v="1.1";laydate.Dates=n;n.getPath=function(){var e=document.scripts,i=e[e.length-1].src;return t.path?t.path:i.substring(0,i.lastIndexOf("/")+1)}();n.use=function(e,t){};n.trim=function(e){e=e||"";return e.replace(/^\s|\s$/g,"").replace(/\s+/g," ")};n.digit=function(e){return e<10?"0"+(e|0):e};n.stopmp=function(t){t=t||e.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=true;return this};n.each=function(e,t){var i=0,n=e.length;for(;i<n;i++){if(t(i,e[i])===false){break}}};n.hasClass=function(e,t){e=e||{};return new RegExp("\\b"+t+"\\b").test(e.className)};n.addClass=function(e,t){e=e||{};n.hasClass(e,t)||(e.className+=" "+t);e.className=n.trim(e.className);return this};n.removeClass=function(e,t){e=e||{};if(n.hasClass(e,t)){var i=new RegExp("\\b"+t+"\\b");e.className=e.className.replace(i,"")}return this};n.removeCssAttr=function(e,t){var i=e.style;if(i.removeProperty){i.removeProperty(t)}else{i.removeAttribute(t)}};n.shde=function(e,t){e.style.display=t?"none":"block"};n.query=function(e){if(e&&e.nodeType===1){if(e.tagName.toLowerCase()!=="input"){throw new Error("选择器elem错误")}return e}var e=n.trim(e).split(" "),t=a[r](e[0].substr(1)),i;if(!t){return}else if(!e[1]){return t}else if(/^\./.test(e[1])){var l,o=e[1].substr(1),d=new RegExp("\\b"+o+"\\b");i=[];l=a.getElementsByClassName?t.getElementsByClassName(o):t[s]("*");n.each(l,function(e,t){d.test(t.className)&&i.push(t)});return i[0]?i:""}else{i=t[s](e[1]);return i[0]?t[s](e[1]):""}};n.on=function(t,i,a){t.attachEvent?t.attachEvent("on"+i,function(){a.call(t,e.even)}):t.addEventListener(i,a,false);return n};n.stopMosup=function(e,t){if(e!=="mouseup"){n.on(t,"mouseup",function(e){n.stopmp(e)})}};n.run=function(e){var i=n.query,a,l,r=o.event,s;try{s=r.target||r.srcElement||{}}catch(e){s={}}a=e.elem?i(e.elem):s;o.elemv=/textarea|input/.test(a.tagName.toLocaleLowerCase())?"value":"innerHTML";if(("init"in e?e.init:t.init)&&!a[o.elemv]){if(e.defaultDate!=null){a[o.elemv]=e.defaultDate}else{}}if(r&&s.tagName){if(!a||a===n.elem){return}n.stopMosup(r.type,a);n.stopmp(r);n.view(a,e);n.reshow()}else{l=e.event||"click";n.each((a.length|0)>0?a:[a],function(t,i){n.stopMosup(l,i);n.on(i,l,function(t){n.stopmp(t);if(i!==n.elem){n.view(i,e);n.reshow()}})})}d(e.skin||t.skin)};n.scroll=function(e){e=e?"scrollLeft":"scrollTop";return a.body[e]|a.documentElement[e]};n.winarea=function(e){return document.documentElement[e?"clientWidth":"clientHeight"]};n.isleap=function(e){return e%4===0&&e%100!==0||e%400===0};n.checkVoid=function(e,t,i){var a=[];e=e|0;t=t|0;i=i|0;if(e<n.mins[0]){a=["y"]}else if(e>n.maxs[0]){a=["y",1]}else if(e>=n.mins[0]&&e<=n.maxs[0]){if(e==n.mins[0]){if(t<n.mins[1]){a=["m"]}else if(t==n.mins[1]){if(i<n.mins[2]){a=["d"]}}}if(e==n.maxs[0]){if(t>n.maxs[1]){a=["m",1]}else if(t==n.maxs[1]){if(i>n.maxs[2]){a=["d",1]}}}}return a};n.timeVoid=function(e,t){if(n.ymd[1]+1==n.mins[1]&&n.ymd[2]==n.mins[2]){if(t===0&&e<n.mins[3]){return 1}else if(t===1&&e<n.mins[4]){return 1}else if(t===2&&e<n.mins[5]){return 1}}else if(n.ymd[1]+1==n.maxs[1]&&n.ymd[2]==n.maxs[2]){if(t===0&&e>n.maxs[3]){return 1}else if(t===1&&e>n.maxs[4]){return 1}else if(t===2&&e>n.maxs[5]){return 1}}if(e>(t?59:23)){return 1}};n.check=function(){var e=n.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,"");var t=new RegExp(e),i=n.elem[o.elemv];var a=i.match(/\d+/g)||[],l=n.checkVoid(a[0],a[1],a[2]);if(i.replace(/\s/g,"")!==""){if(!t.test(i)){n.elem[o.elemv]="";n.msg("日期不符合格式，请重新选择。");return 1}else if(l[0]){n.elem[o.elemv]="";n.msg("日期不在有效期内，请重新选择。");return 1}else{l.value=n.elem[o.elemv].match(t).join();a=l.value.match(/\d+/g);if(a[1]<1){a[1]=1;l.auto=1}else if(a[1]>12){a[1]=12;l.auto=1}else if(a[1].length<2){l.auto=1}if(!a[2]){a[2]=1;l.auto=1}else if(a[2]<1){a[2]=1;l.auto=1}else if(a[2]>n.months[(a[1]|0)-1]){a[2]=31;l.auto=1}else if(a[2].length<2){l.auto=1}if(a.length>3){if(n.timeVoid(a[3],0)){l.auto=1}if(n.timeVoid(a[4],1)){l.auto=1}if(n.timeVoid(a[5],2)){l.auto=1}}if(l.auto){n.creation([a[0],a[1]|0,a[2]|0],1)}else if(l.value!==n.elem[o.elemv]){n.elem[o.elemv]=l.value}}}};n.months=[31,null,31,30,31,30,31,31,30,31,30,31];n.viewDate=function(e,t,i){if(!i){i=1}var a=n.query,l={},r=new Date;e<(n.mins[0]|0)&&(e=n.mins[0]|0);e>(n.maxs[0]|0)&&(e=n.maxs[0]|0);r.setFullYear(e,t,i);l.ymd=[r.getFullYear(),r.getMonth(),r.getDate()];n.months[1]=n.isleap(l.ymd[0])?29:28;r.setFullYear(l.ymd[0],l.ymd[1],1);l.FDay=r.getDay();l.PDay=n.months[t===0?11:t-1]-l.FDay+1;l.NDay=1;n.each(o.tds,function(e,t){var i=l.ymd[0],a=l.ymd[1]+1,r;t.className="";if(e<l.FDay){t.innerHTML=r=e+l.PDay;n.addClass(t,"laydate_nothis");a===1&&(i-=1);a=a===1?12:a-1}else if(e>=l.FDay&&e<l.FDay+n.months[l.ymd[1]]){t.innerHTML=r=e-l.FDay+1;if(e-l.FDay+1===l.ymd[2]){n.addClass(t,o[2]);l.thisDay=t}}else{t.innerHTML=r=l.NDay++;n.addClass(t,"laydate_nothis");a===12&&(i+=1);a=a===12?1:a+1}if(n.checkVoid(i,a,r)[0]){n.addClass(t,o[1])}n.options.festival&&n.festival(t,a+"."+r);t.setAttribute("y",i);t.setAttribute("m",a);t.setAttribute("d",r);i=a=r=null});n.valid=!n.hasClass(l.thisDay,o[1]);n.ymd=l.ymd;o.year.value=n.ymd[0]+"年";o.month.value=n.digit(n.ymd[1]+1)+"月";n.each(o.mms,function(e,t){var i=n.checkVoid(n.ymd[0],(t.getAttribute("m")|0)+1);if(i[0]==="y"||i[0]==="m"){n.addClass(t,o[1])}else{n.removeClass(t,o[1])}n.removeClass(t,o[2]);i=null});n.addClass(o.mms[n.ymd[1]],o[2])
;l.times=[n.inymd[n.elemIndexMap.hour]|0||0,n.inymd[n.elemIndexMap.minute]|0||0,n.inymd[n.elemIndexMap.second]|0||0];n.each(new Array(3),function(e){n.hmsin[e].value=n.digit(n.timeVoid(l.times[e],e)?n.mins[e+3]|0:l.times[e]|0)});n[n.valid?"removeClass":"addClass"](o.ok,o[1])};n.festival=function(e,t){var i;switch(t){case"1.1":i="元旦";break;case"3.8":i="妇女";break;case"4.5":i="清明";break;case"5.1":i="劳动";break;case"6.1":i="儿童";break;case"9.10":i="教师";break;case"10.1":i="国庆";break}i&&(e.innerHTML=i);i=null};n.viewYears=function(e){var t=n.query,i="";n.each(new Array(14),function(t){if(t===7){i+="<li "+(parseInt(o.year.value)===e?'class="'+o[2]+'"':"")+' y="'+e+'">'+e+"年</li>"}else{i+='<li y="'+(e-7+t)+'">'+(e-7+t)+"年</li>"}});t("#laydate_ys").innerHTML=i;n.each(t("#laydate_ys li"),function(e,t){if(n.checkVoid(t.getAttribute("y"))[0]==="y"){n.addClass(t,o[1])}else{n.on(t,"click",function(e){n.stopmp(e).reshow();n.viewDate(this.getAttribute("y")|0,n.ymd[1],n.ymd[2]);n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]],true)})}})};n.getEachElementIndex=function(e){var t={};var i=0;e.replace(/YYYY|MM|DD|hh|mm|ss/g,function(e,n){if(e==="YYYY"){t["year"]=i++}else if(e==="MM"){t["month"]=i++}else if(e==="DD"){t["day"]=i++}else if(e==="hh"){t["hour"]=i++}else if(e==="mm"){t["minute"]=i++}else if(e==="ss"){t["second"]=i++}return""});return t};n.initDate=function(e){var t=n.query,i={},a=new Date;var l=n.elem[o.elemv].match(/\d+/g)||[];var r=n.getEachElementIndex(e);n.elemIndexMap=r;if(l.length<3){l=n.options.start.match(/\d+/g)||[];if(l.length<3){l=[a.getFullYear(),a.getMonth()+1,a.getDate()]}}n.inymd=l;n.viewDate(l[r.year],l[r.month]-1,l[r.day])};n.iswrite=function(){var e=n.query,t={time:e("#laydate_hms")};n.shde(t.time,!n.options.istime);n.shde(o.oclear,!("isclear"in n.options?n.options.isclear:1));n.shde(o.otoday,!("istoday"in n.options?n.options.istoday:1));n.shde(o.ok,!("issure"in n.options?n.options.issure:1))};n.orien=function(e,t){var i,a,l;l=245;a=parseFloat(document.body.scrollWidth);var r,s=n.elem.getBoundingClientRect();e.style.left=s.left+(t?0:n.scroll(1))+"px";i=parseFloat(e.style.left);if(i+l>a){e.style.left=i-(i+l-a)+"px"}if(s.bottom+e.offsetHeight/1.5<=n.winarea()){r=s.bottom-1}else{r=s.top>e.offsetHeight/1.5?s.top-e.offsetHeight+1:n.winarea()-e.offsetHeight}e.style.top=Math.max(r+(t?0:n.scroll()),1)+"px"};n.follow=function(e){if(n.options.fixed){e.style.position="fixed";n.orien(e,1)}else{e.style.position="absolute";n.orien(e)}};n.viewtb=function(){var e,t=[],i=["日","一","二","三","四","五","六"];var r={},o=a[l]("table"),d=a[l]("thead");d.appendChild(a[l]("tr"));r.creath=function(e){var t=a[l]("th");t.innerHTML=i[e];d[s]("tr")[0].appendChild(t);t=null};n.each(new Array(6),function(i){t.push([]);e=o.insertRow(0);n.each(new Array(7),function(n){t[i][n]=0;i===0&&r.creath(n);e.insertCell(n)})});o.insertBefore(d,o.children[0]);o.id=o.className="laydate_table";e=t=null;return o.outerHTML.toLowerCase()}();n.view=function(e,i){var r=n.query,s,d={};i=i||e;n.elem=e;n.options=i;n.options.format||(n.options.format=t.format);n.options.start=n.options.start||"";n.mm=d.mm=[n.options.min||t.min,n.options.max||t.max];n.mins=d.mm[0].match(/\d+/g);n.maxs=d.mm[1].match(/\d+/g);if(!n.box){s=a[l]("div");s.id=o[0];s.className=o[0];s.style.cssText="position: absolute;";s.setAttribute("name","laydate-v"+laydate.v);s.innerHTML=d.html='<div class="laydate_top">'+'<div class="laydate_ym laydate_y" id="laydate_YY">'+'<a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a>'+'<input id="laydate_y" readonly><label></label>'+'<a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a>'+'<div class="laydate_yms">'+'<a class="laydate_tab laydate_chtop"><cite></cite></a>'+'<ul id="laydate_ys"></ul>'+'<a class="laydate_tab laydate_chdown"><cite></cite></a>'+"</div>"+"</div>"+'<div class="laydate_ym laydate_m" id="laydate_MM">'+'<a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a>'+'<input id="laydate_m" readonly><label></label>'+'<a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a>'+'<div class="laydate_yms" id="laydate_ms">'+function(){var e="";n.each(new Array(12),function(t){e+='<span m="'+t+'">'+n.digit(t+1)+"月</span>"});return e}()+"</div>"+"</div>"+'<div class="laydate_top_mask"></div></div>'+n.viewtb+'<div class="laydate_bottom">'+'<ul id="laydate_hms">'+'<li class="laydate_sj">时间</li>'+"<li><input readonly>:</li>"+"<li><input readonly>:</li>"+"<li><input readonly></li>"+"</ul>"+'<div class="laydate_time" id="laydate_time"></div>'+'<div class="laydate_btn">'+'<a id="laydate_clear">清空</a>'+'<a id="laydate_today">今天</a>'+'<a id="laydate_ok">确认</a>'+"</div>"+(t.isv?'<a href="http://sentsin.com/layui/laydate/" class="laydate_v" target="_blank">laydate-v'+laydate.v+"</a>":"")+"</div>";a.body.appendChild(s);n.box=r("#"+o[0]);n.events();s=null}else{n.shde(n.box)}n.follow(n.box);i.zIndex?n.box.style.zIndex=i.zIndex:n.removeCssAttr(n.box,"z-index");n.stopMosup("click",n.box);n.initDate(i.format);n.iswrite();n.check()};n.reshow=function(){n.each(n.query("#"+o[0]+" .laydate_show"),function(e,t){n.removeClass(t,"laydate_show")});return this};n.close=function(){n.reshow();n.shde(n.query("#"+o[0]),1);n.elem=null};n.parse=function(e,i,a){e=e.concat(i);a=a||(n.options?n.options.format:t.format);return a.replace(/YYYY|MM|DD|hh|mm|ss/g,function(t,i){var a=-1;if(t==="YYYY"){a=0}else if(t==="MM"){a=1}else if(t==="DD"){a=2}else if(t==="hh"){a=3}else if(t==="mm"){a=4}else if(t==="ss"){a=5}return n.digit(e[a])})};n.creation=function(e,t){var i=n.query,a=n.hmsin;var l=n.parse(e,[a[0].value,a[1].value,a[2].value]);n.elem[o.elemv]=l;typeof n.options.choose==="function"&&n.options.choose(l);if(!t){n.close()}};n.events=function(){var t=n.query,i={box:"#"+o[0]};n.addClass(a.body,"laydate_body");o.tds=t("#laydate_table td");o.mms=t("#laydate_ms span");o.year=t("#laydate_y");o.month=t("#laydate_m");n.each(t(i.box+" .laydate_ym"),function(e,t){n.on(t,"click",function(t){n.stopmp(t).reshow();n.addClass(this[s]("div")[0],"laydate_show");if(!e){i.YY=parseInt(o.year.value);n.viewYears(i.YY)}})});n.on(t(i.box),"click",function(){n.reshow()});i.tabYear=function(e){if(e===0){n.ymd[0]--}else if(e===1){n.ymd[0]++}else if(e===2){i.YY-=14}else{i.YY+=14}if(e<2){n.viewDate(n.ymd[0],n.ymd[1],n.ymd[2]);n.reshow()}else{n.viewYears(i.YY)}};n.each(t("#laydate_YY .laydate_tab"),function(e,t){n.on(t,"click",function(t){n.stopmp(t);i.tabYear(e);n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]],true)})});i.tabMonth=function(e){if(e){n.ymd[1]++;if(n.ymd[1]===12){n.ymd[0]++;n.ymd[1]=0}}else{n.ymd[1]--;if(n.ymd[1]===-1){n.ymd[0]--;n.ymd[1]=11}}n.viewDate(n.ymd[0],n.ymd[1],n.ymd[2])};n.each(t("#laydate_MM .laydate_tab"),function(e,t){n.on(t,"click",function(t){n.stopmp(t).reshow();i.tabMonth(e);n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]],true)})});n.each(t("#laydate_ms span"),function(e,t){n.on(t,"click",function(e){n.stopmp(e).reshow();if(!n.hasClass(this,o[1])){n.viewDate(n.ymd[0],this.getAttribute("m")|0,n.ymd[2]);n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]],true)}})});n.each(t("#laydate_table td"),function(e,t){n.on(t,"click",function(e){if(!n.hasClass(this,o[1])){n.stopmp(e);n.creation([this.getAttribute("y")|0,this.getAttribute("m")|0,this.getAttribute("d")|0])}})});o.oclear=t("#laydate_clear");n.on(o.oclear,"click",function(){n.elem[o.elemv]="";n.close()});o.otoday=t("#laydate_today");n.on(o.otoday,"click",function(){var e=new Date;n.creation([e.getFullYear(),e.getMonth()+1,e.getDate()])});o.ok=t("#laydate_ok");n.on(o.ok,"click",function(){if(n.valid){n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]])}});i.times=t("#laydate_time");n.hmsin=i.hmsin=t("#laydate_hms input");i.hmss=["小时","分钟","秒数"];i.hmsarr=[];n.msg=function(e,a){var l='<div class="laydte_hsmtex">'+(a||"提示")+"<span>×</span></div>";if(typeof e==="string"){l+="<p>"+e+"</p>";n.shde(t("#"+o[0]));n.removeClass(i.times,"laydate_time1").addClass(i.times,"laydate_msg")}else{if(!i.hmsarr[e]){l+='<div id="laydate_hmsno" class="laydate_hmsno">';n.each(new Array(e===0?24:60),function(e){l+="<span>"+e+"</span>"});l+="</div>";i.hmsarr[e]=l}else{l=i.hmsarr[e]}n.removeClass(i.times,"laydate_msg");n[e===0?"removeClass":"addClass"](i.times,"laydate_time1")}n.addClass(i.times,"laydate_show");i.times.innerHTML=l};i.hmson=function(e,i){var a=t("#laydate_hmsno span"),l=n.valid?null:1;n.each(a,function(t,a){if(l){n.addClass(a,o[1])}else if(n.timeVoid(t,i)){n.addClass(a,o[1])}else{n.on(a,"click",function(t){if(!n.hasClass(this,o[1])){e.value=n.digit(this.innerHTML|0);n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]],true)}})}});n.addClass(a[e.value|0],"laydate_click")};n.each(i.hmsin,function(e,t){n.on(t,"click",function(t){n.stopmp(t).reshow();n.msg(e,i.hmss[e]);i.hmson(this,e)})});n.on(a,"mouseup",function(){var e=t("#"+o[0]);if(e&&e.style.display!=="none"){n.check()||n.close()}}).on(a,"keydown",function(t){t=t||e.event;var i=t.keyCode;if(i===13&&n.elem){n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]])}})};n.init=function(){n.use("need");n.use(o[4]+t.skin,o[3]);n.skinLink=n.query("#"+o[3])}();laydate.reset=function(){n.box&&n.elem&&n.follow(n.box)};laydate.now=function(e,t){var i=new Date(e|0?function(e){return e<864e5?+new Date+e*864e5:e}(parseInt(e)):+new Date);return n.parse([i.getFullYear(),i.getMonth()+1,i.getDate()],[i.getHours(),i.getMinutes(),i.getSeconds()],t)};laydate.skin=d;function d(e){}}(window)})();(function(){angular.module("hd.switch",[]).directive("hdSwitch",e);function e(){return{restrict:"AE",replace:true,require:["?ngModel"],transclude:true,scope:{disabled:"=ngDisabled"},template:'<div class="hdSwitch"><input type="checkbox" ng-model="model" name="{{checkboxName}}"/><label></label></div>',compile:function(e,t){e.find("input").attr("ng-true-value",t.ngTrueValue);e.find("input").attr("ng-false-value",t.ngFalseValue);return function(e,t,i,n){var a=n[0];e.trueValue=i.ngTrueValue;e.falseValue=i.ngFalseValue;e.checkboxName=i.name;var l=hdUtils.getUuid();t.find("input").attr("id","hdSwitchInput-"+l);t.find("label").attr("for","hdSwitchInput-"+l);a.$render=function(){e.model=a.$viewValue};e.$watch("model",function(){a.$setViewValue(e.model)})}}}}})();(function(){angular.module("hd.page",[]).directive("hdPage",function(){return{restrict:"AE",template:'<div class="pagination"><ul class="page" maxshowpageitem="5" pagelistcount="10" id="page"></ul><select style="display: inherit;height: 24px;width: 50px"><option>10</option><option>30</option><option>50</option></select><span class="sum" style="position: relative;top: -26px;"><span id="allTotal">0</span> <span class="jump">跳转至<input class="pageCount" maxlength="4" id="whichPage" hdFix="0" hdMin="1" onkeypress="return window.hdUtils.digitChk(this)" onchange="window.hdUtils.digitLmt(this)">页<button btnPage id="confirmId" onclick="return (!isNaN($(\'input[class=pageCount]\').val()))">确定</button></span></span></div>',replace:true,scope:{listcount:"@",ispagetoone:"@"},link:function(e,t,i){function n(t,i,n){e.$parent.eachPageEvent(t,i,n)}if(i.id){t.find("ul").attr("id","").attr("id",i.id)}if(i.id){t.find("#"+i.id).initPage(0,1,n,false)}else{t.find("#page").initPage(0,1,n,false)}e.$watch("ispagetoone",function(n,a){if(n!=a){if(i.id){t.find("#"+i.id).setNewTotal(e.listcount)}else{t.find("#page").setNewTotal(e.listcount)}}});e.$watch("listcount",function(e,n){console.log(e+"-----"+n);if(e!=n){if(i.id){t.find("#"+i.id).setNewTotal(e)}else{t.find("#page").setNewTotal(e)}}})}}})})();$.fn.extend({initPage:function(e,t,i,n){page.classArr.push($(this).selector);page.classArr[$(this).selector]=1;page.classArr[$(this).selector+"page"]=e;page.classArr[$(this).selector+"fun"]=i;page.classArr[$(this).selector+"callback"]=n;page.classArr[$(this).selector+"pageChange"]=10;console.log(page.classArr);var a=$(this).attr("maxshowpageitem");if(a!=null&&a>0&&a!=""){page.maxshowpageitem=a}var l=$(this).attr("pagelistcount");if(l!=null&&l>0&&l!=""){page.pagelistcount=l}if(page.classArr[$(this).selector+"page"]<0){page.classArr[$(this).selector+"page"]=0}if(parseInt(page.classArr[$(this).selector])<=0){page.classArr[$(this).selector]=1}},setNewTotal:function(e,t){page.classArr[$(this).selector+"page"]=parseInt(e);if(!t){page.isFirst=1}$(this).siblings("span").children().eq(1).children().eq(1).unbind("click");page.setPageListCount($(this),null,null,page.classArr[$(this).selector+"fun"],page.classArr[$(this).selector+"callback"]);page.initConfirmEvent($(this),null,null,page.classArr[$(this).selector+"fun"]);page.initPageChangeEvent($(this),page.classArr[$(this).selector+"fun"])},setFirstSelect:function(){page.isFirst=1}});var page={isFirst:"",classArr:[],pagelistcount:10,initWithUl:function(e,t,i){var n=1;if(page.classArr[$(e).selector+"page"]>=0){n=page.classArr[e.selector+"page"]%parseInt(page.classArr[e.selector+"pageChange"])>0?parseInt(page.classArr[e.selector+"page"]/parseInt(page.classArr[e.selector+"pageChange"]))+1:parseInt(page.classArr[e.selector+"page"]/parseInt(page.classArr[e.selector+"pageChange"]))}var a=page.getPageListModel(e,n,parseInt(page.classArr[e.selector]));e.html(a)},setPageListCount:function(e,t,i,n,a){page.classArr[$(e).selector+"page"]=parseInt(page.classArr[$(e).selector+"page"]);page.initWithUl(e,page.classArr[$(e).selector+"page"],parseInt(page.classArr[e.selector]));e.siblings("span").children().eq(0).text("共"+page.classArr[$(e).selector+"page"]+"条");page.initPageEvent(e,page.classArr[$(e).selector+"page"],n);if(page.classArr[e.selector+"callback"]){console.log(page.classArr);n(parseInt(page.classArr[e.selector]),page.classArr[$(e).selector+"pageChange"],e.selector);e.siblings("span").children().eq(1).children().eq(0).val("");page.classArr[e.selector+"callback"]=false}},initPageEvent:function(e,t,i){e.children('li[class="pageItem"]').on("click",function(){page.isFirst="";page.classArr[e.selector]=$(this).attr("page-data");console.log(page.classArr[e.selector]);page.classArr[e.selector+"callback"]=true;page.setPageListCount(e,page.classArr[$(e).selector+"page"],$(this).attr("page-data"),i,true)})},initConfirmEvent:function(e,t,i,n){e.siblings("span").children().eq(1).children().eq(1).bind("click",function(){var t=new RegExp("^[0-9]*$");var i=e.siblings("span").children().eq(1).children().eq(0).val();if(i&&t.test(i)){if(parseInt(page.classArr[$(e).selector+"page"])%parseInt(page.classArr[e.selector+"pageChange"])==0){if(parseInt(i)<=0||parseInt(i)>parseInt(page.classArr[$(e).selector+"page"]/parseInt(page.classArr[e.selector+"pageChange"]))){e.siblings("span").children().eq(1).children().eq(0).val(parseInt(page.classArr[$(e).selector+"page"]/parseInt(page.classArr[e.selector+"pageChange"])));page.isFirst="";page.classArr[e.selector+"callback"]=true;page.classArr[e.selector]=parseInt(e.siblings("span").children().eq(1).children().eq(0).val());page.setPageListCount(e,page.classArr[$(e).selector+"page"],parseInt(e.siblings("span").children().eq(1).children().eq(0).val()),n,true)}else{page.isFirst="";page.classArr[e.selector+"callback"]=true;page.classArr[e.selector]=parseInt(i);page.setPageListCount(e,page.classArr[$(e).selector+"page"],parseInt(i),n,true)}}else{if(parseInt(i)<=0||parseInt(i)>parseInt(page.classArr[$(e).selector+"page"]/parseInt(page.classArr[e.selector+"pageChange"]))+1){e.siblings("span").children().eq(1).children().eq(0).val(parseInt(page.classArr[$(e).selector+"page"]/parseInt(page.classArr[e.selector+"pageChange"]))+1);page.isFirst="";page.classArr[e.selector+"callback"]=true;page.classArr[e.selector]=parseInt(e.siblings("span").children().eq(1).children().eq(0).val());page.setPageListCount(e,page.classArr[$(e).selector+"page"],parseInt(e.siblings("span").children().eq(1).children().eq(0).val()),n,true)}else{page.isFirst="";page.classArr[e.selector+"callback"]=true;page.classArr[e.selector]=parseInt(i);page.setPageListCount(e,page.classArr[$(e).selector+"page"],parseInt(i),n,true)}}}else{page.isFirst="";page.classArr[e.selector+"callback"]=true;page.classArr[e.selector]=1;page.setPageListCount(e,page.classArr[$(e).selector+"page"],parseInt(i),n,true)}})},initPageChangeEvent:function(e,t){e.siblings("select").bind("change",function(){$(e).siblings("span").children().eq(1).children().eq(1).unbind("click");page.isFirst=1;page.classArr[e.selector+"callback"]=true;page.classArr[$(e).selector+"pageChange"]=e.siblings("select").val();page.setPageListCount(e,null,null,page.classArr[$(e).selector+"fun"],page.classArr[$(e).selector+"callback"]);page.initConfirmEvent(e,null,null,page.classArr[$(e).selector+"fun"]);if(page.classArr[e.selector+"callback"]){t(parseInt(page.classArr[e.selector]),page.classArr[$(this).selector+"pageChange"],e.selector);e.siblings("span").children().eq(1).children().eq(0).val("");page.classArr[e.selector+"callback"]=false;console.log(e.siblings("select").val())}})},getPageListModel:function(e,t,i){var n=parseInt(page.classArr[e.selector])-1;var a=parseInt(page.classArr[e.selector])+1;var l="pageItem";var r="pageItem";if(n<=0){l="pageItemDisable"}if(a>t){r="pageItemDisable"}var s="";s+="<li class='"+l+"' page-data='"+n+"' page-rel='prepage'>&lt;</li>";var o=parseInt(page.maxshowpageitem);if(t<o){o=t}var d=3<=t+1?3:t+1;if(page.isFirst==1){page.classArr[e.selector]=1}for(var c=1;c<d;c++){var u="pageItem";if(c==parseInt(page.classArr[e.selector])){u="pageItemActive"}s+="<li class='"+u+"' page-data='"+c+"' page-rel='itempage'>"+c+"</li>"}var h=true;if(parseInt(page.classArr[e.selector])>=2){var u="pageItem";var f=parseInt(page.classArr[e.selector])-1;var p=parseInt(page.classArr[e.selector])+1;if(f>=3){if(f>3){s+="<li >...</li>"}s+="<li class='"+u+"' page-data='"+f+"' page-rel='itempage'>"+f+"</li>"}if(2<parseInt(page.classArr[e.selector])&&parseInt(page.classArr[e.selector])<=t){s+="<li class='pageItemActive' page-data='"+i+"' page-rel='itempage'>"+parseInt(page.classArr[e.selector])+"</li>"}if(2<p&&p<t){s+="<li class='"+u+"' page-data='"+p+"' page-rel='itempage'>"+p+"</li>";if(p<t-1){s+="<li >...</li>"}h=false}}if(parseInt(page.classArr[e.selector])<t-1&&h){s+="<li >...</li>"}if(t>=3&&parseInt(page.classArr[e.selector])<t){s+="<li class='"+r+"' page-data='"+t+"' page-rel='lastpage'>"+t+"</li>"}s+="<li class='"+r+"' page-data='"+a+"' page-rel='nextpage'>&gt;</li>";return s}};var initHdMultiple=function(e){try{var t=$("div[hdMultiple="+e+"]");if(window.hdMultipleObj==null){window.hdMultipleObj={};window.hdMultipleObjText={}}delete hdMultipleObj[e];hdMultipleObj[e]={list:[],initList:[]};delete hdMultipleObjText[e];if(t.find("option").attr("initText")==null||t.find("option").attr("initText")==""){t.find("option").attr("initText",t.find("option").text())}hdMultipleObjText[e]={title:t.find("option").attr("initText"),list:[]};t.find("option").text(hdMultipleObjText[e].title);t.find("select").attr("title",hdMultipleObjText[e].title);t.find("select").unbind("click.hdMultipleContentToggle");t.find("select").bind("click.hdMultipleContentToggle",function(){hdMultipleContentToggle(e)});t.find("select").attr("hover","in");t.find("select").unbind("blur.hdMultiple");t.find("select").bind("blur.hdMultiple",function(){hdMultipleContentHide(e)});t.find("select").unbind("keydown.hdMultiple");t.find("select").bind("keydown.hdMultiple",function(){return hdMultipleSearchKeyDown(e)});t.find("select").unbind("keypress.hdMultiple");t.find("select").bind("keypress.hdMultiple",function(){if(event.keyCode=="13"||event.keyCode=="32"){$(this).click();return false}});t.unbind("mouseover");t.unbind("mouseout");t.bind("mouseover",function(){t.find("select").attr("hover","in")});t.bind("mouseout",function(){t.find("select").attr("hover","out")});t.find("a[checkAll]").unbind("click");t.find("a[checkNone]").unbind("click");t.find("a[checkAll]").bind("click",function(){hdMultipleCheckBatch(e,true)});t.find("a[checkNone]").bind("click",function(){hdMultipleCheckBatch(e,false)});t.find("span").text("0");if(arguments[1]!=null){var i=arguments[1];for(var n=0;n<i.length;n++){hdMultipleObj[e].initList.push(i[n])}}setTimeout("hdMultipleBindTr('"+e+"')",10)}catch(e){if(console)console.error("hdMultiple.initHdMultiple err:"+e.message)}};var hdMultipleBindTr=function(e){try{var t=$("div[hdMultiple="+e+"]");t.find("input[type=checkbox]").each(function(){this.checked=false});t.find("tr[itemObj]").removeClass("singleSelect");t.find("tr[itemObj]").each(function(){$(this).unbind("click");$(this).bind("click",function(){hdMultipleCheck(e,$(this))});$(this).unbind("mouseover mouseout");$(this).bind("mouseover",function(){$(this).addClass("getHover")});$(this).bind("mouseout",function(){$(this).removeClass("getHover")});for(var t=0;t<hdMultipleObj[e].initList.length;t++){if(hdMultipleObj[e].initList[t].$$hashKey){delete hdMultipleObj[e].initList[t].$$hashKey}var i="";if(hdMultipleObj[e].initList[t]instanceof Object){i=JSON.stringify(hdMultipleObj[e].initList[t])}else{i=hdMultipleObj[e].initList[t]}if(i==$(this).attr("itemObj")){hdMultipleCheck(e,$(this))}}});if(t.attr("readonly")!=null){t.find("tr[itemObj]").unbind("click");t.find("a").hide()}if(t.attr("single")!=null){t.find("tr[itemObj]").find("td:first").hide();t.find("a[checkAll]").hide()}if(t.attr("maxCount")&&!isNaN(t.attr("maxCount"))&&t.attr("maxCount")>0&&t.attr("maxCount")<t.find("tr[itemObj]").length){t.find("a[checkAll]").hide()}if(t.attr("needSearch")!=null){if(t.find("input[hdMultipleSearch]").length==0){var i="<div hdMultipleSearch>"+'<input type="text" hdMultipleSearch maxlength="32" >'+'<i class="iconfont icon-fangdajing"></i>'+"</div>";t.find("div[hdMultipleContent]").prepend(i)}t.find("select").unbind("blur.hdMultiple");t.find("input[hdMultipleSearch]").unbind("blur");t.find("input[hdMultipleSearch]").bind("blur",function(){hdMultipleContentHide(e)});t.find("select").unbind("keydown.hdMultiple");t.find("input[hdMultipleSearch]").unbind("keydown.hdMultiple");t.find("input[hdMultipleSearch]").bind("keydown.hdMultiple",function(){return hdMultipleSearchKeyDown(e)});t.find("input[hdMultipleSearch]").bind("input propertychang",function(){hdMultipleSearchBefore(e)})}}catch(e){if(console)console.error("hdMultiple.hdMultipleBindTr err:"+e.message)}};var hdMultipleCheck=function(e,t){try{var i=$("div[hdMultiple="+e+"]");if(i.attr("maxCount")&&!isNaN(i.attr("maxCount"))&&i.attr("maxCount")>0){if(hdMultipleObj[e].list.length>=i.attr("maxCount")){if(!t.find("input[type=checkbox]").get(0).checked){return false}}}if(i.attr("single")!=null){hdMultipleObj[e].list=[];hdMultipleObjText[e].list=[];try{if(!isNaN(t.attr("itemObj"))){hdMultipleObj[e].list.push(t.attr("itemObj"))}else{hdMultipleObj[e].list.push(JSON.parse(t.attr("itemObj")))}}catch(i){hdMultipleObj[e].list.push(t.attr("itemObj"))}hdMultipleObjText[e].list.push(t.find("td[text]").text());hdMultipleCheckText(e);i.find("tr[itemObj]").removeClass("singleSelect");t.addClass("singleSelect");i.find("div[hdmultiplelist]").get(0).scrollTop=(i.find("tr[itemObj]:not(.notFound)").index(t)-5)*28;i.find("select").attr("hover","out");hdMultipleContentHide(e);return true}t.find("input[type=checkbox]").get(0).checked=!t.find("input[type=checkbox]").get(0).checked;if(t.find("input[type=checkbox]").is(":checked")){try{if(!isNaN(t.attr("itemObj"))){hdMultipleObj[e].list.push(t.attr("itemObj"))}else{hdMultipleObj[e].list.push(JSON.parse(t.attr("itemObj")))}}catch(i){hdMultipleObj[e].list.push(t.attr("itemObj"))}hdMultipleObjText[e].list.push(t.find("td[text]").text())}else{for(var n=0;n<hdMultipleObj[e].list.length;n++){var a="";if(hdMultipleObj[e].list[n]instanceof Object){a=JSON.stringify(hdMultipleObj[e].list[n])}else{a=hdMultipleObj[e].list[n]}if(a==t.attr("itemObj")){hdMultipleObj[e].list.splice(n,1);hdMultipleObjText[e].list.splice(n,1);break}}}hdMultipleCheckText(e)}catch(e){if(console)console.error("hdMultiple.hdMultipleCheck err:"+e.message)}};var hdMultipleCheckBatch=function(e,t){try{var i=$("div[hdMultiple="+e+"]");var n,a=[];i.find("tr[itemObj]:not(.notFound)").find("input[type=checkbox]").each(function(){this.checked=t});i.find("tr[itemObj]:not(.notFound)").each(function(){for(var t=0;t<hdMultipleObj[e].list.length;t++){if(hdMultipleObj[e].list[t]instanceof Object){n=JSON.stringify(hdMultipleObj[e].list[t])}else{n=hdMultipleObj[e].list[t]}if(n==$(this).attr("itemObj")){a.push(t)}}for(var t=0;t<a.length;t++){hdMultipleObj[e].list.splice(a[t],1);hdMultipleObjText[e].list.splice(a[t],1)}});if(t){i.find("tr[itemObj]:not(.notFound)").each(function(){try{if(!isNaN($(this).attr("itemObj"))){hdMultipleObj[e].list.push($(this).attr("itemObj"))}else{hdMultipleObj[e].list.push(JSON.parse($(this).attr("itemObj")))}}catch(t){hdMultipleObj[e].list.push($(this).attr("itemObj"))}hdMultipleObjText[e].list.push($(this).find("td[text]").text())})}hdMultipleCheckText(e)}catch(e){if(console)console.error("hdMultiple.hdMultipleCheckBatch err:"+e.message)}};var hdMultipleCheckText=function(e){try{var t=$("div[hdMultiple="+e+"]");var i=hdMultipleObjText[e].list.length;t.find("span").text(i);var n="已选择：";for(var a=0;a<i;a++){n=n+hdMultipleObjText[e].list[a].toString()+"；"}if(i==0){t.find("option").text(hdMultipleObjText[e].title);t.find("select").attr("title",hdMultipleObjText[e].title)}else{t.find("option").text(n);t.find("select").attr("title",n)}}catch(e){if(console)console.error("hdMultiple.hdMultipleCheckText err:"+e.message)}};var hdMultipleContentToggle=function(e){try{var t=$("div[hdMultiple="+e+"]");t.find("select").attr("disabled","true");t.find("div[hdMultipleContent]").toggle();t.find("select").removeAttr("disabled");if(t.find("input[hdMultipleSearch]").length==0){t.find("select").focus()}else{t.find("input[hdMultipleSearch]").focus()}if(t.attr("single")==null){t.find("div[hdmultiplelist]").get(0).scrollTop=0}else{t.find("div[hdmultiplelist]").get(0).scrollTop=(t.find("tr[itemObj]:not(.notFound)").index(t.find(".singleSelect"))-5)*28}if(t.find("div[hdMultipleContent]").css("display")=="none"){t.find("select").focus();hdMultipleSearchStartClear(e);if(angular.element(t.get(0)).scope().hdMultipleCallBack!=null){angular.element(t.get(0)).scope().hdMultipleCallBack(e)}}}catch(e){if(console)console.error("hdMultiple.hdMultipleContentToggle err:"+e.message)}};var hdMultipleContentHide=function(e){try{var t=$("div[hdMultiple="+e+"]");if(t.find("select").attr("hover")=="out"){if(t.find("div[hdMultipleContent]").css("display")!="none"){t.find("div[hdMultipleContent]").hide();t.find("select").focus();hdMultipleSearchStartClear(e);if(angular.element(t.get(0)).scope().hdMultipleCallBack!=null){angular.element(t.get(0)).scope().hdMultipleCallBack(e)}}}else{if(t.find("input[hdMultipleSearch]").length==0){t.find("select").focus()}else{t.find("input[hdMultipleSearch]").focus()}}}catch(e){if(console)console.error("hdMultiple.hdMultipleContentHide err:"+e.message)}};var hdMultipleSearchKeyDown=function(e){var t=$("div[hdMultiple="+e+"]");var i,n,a;var l=38,r=40,s=32,o=13,d=37,c=39,u=9;if(event.keyCode!=l&&event.keyCode!=r&&event.keyCode!=o&&event.keyCode!=u){return true}i=t.find(".getHover");if(event.keyCode==o){if(i.length>0){i.click();return false}else{return true}}if(event.keyCode==u){t.find("select").attr("hover","out");if(t.find("input[hdMultipleSearch]").length>0){t.find("select").focus()}return true}if(t.find("div[hdMultipleContent]").css("display")=="none"){return false}if(i.length==0){t.find("tr[itemObj]:not(.notFound)").first().addClass("getHover");return false}if(i.length==0){return false}n=i.nextAll("tr:not(.notFound)").first();a=i.prevAll("tr:not(.notFound)").first();if(event.keyCode==r&&n.length>0){n.addClass("getHover");i.removeClass("getHover");t.find("div[hdmultiplelist]").get(0).scrollTop=(t.find("tr[itemObj]:not(.notFound)").index(i)-5)*28;return false}if(event.keyCode==l&&a.length>0){a.addClass("getHover");i.removeClass("getHover");t.find("div[hdmultiplelist]").get(0).scrollTop=(t.find("tr[itemObj]:not(.notFound)").index(i)-7)*28;return false}};var hdMultipleSearchBefore=function(e){if(hdMultipleObj[e].timeOut!=null){clearTimeout(hdMultipleObj[e].timeOut)}hdMultipleObj[e].timeOut=setTimeout('hdMultipleSearchStart("'+e+'")',300)};var hdMultipleSearchStart=function(e){var t=$("div[hdMultiple="+e+"]");var i="";var n="";delete hdMultipleObj[e].timeOut;if(t.find("input[hdMultipleSearch]").length>0){t.find("tr[itemObj]").removeClass("getHover");t.find("tr[itemObj]").each(function(){i=$(this).find("td[text]").text();n=t.find("input[hdMultipleSearch]").val();if(i.indexOf(n)<0){$(this).addClass("notFound")}else{i=i.replace(n,"<strong>"+n+"</strong>");$(this).find("td[text]").html(i);$(this).removeClass("notFound")}})}};var hdMultipleSearchStartClear=function(e){var t=$("div[hdMultiple="+e+"]");var i="";t.find("input[hdMultipleSearch]").val("");t.find("tr[itemObj]").removeClass("notFound");t.find("tr[itemObj]").removeClass("getHover");t.find("tr[itemObj]").each(function(){i=$(this).find("td[text]").text();$(this).find("td[text]").html(i)})};var inithdTreeform=function(e,t,i){try{var n=$("div[hdTreeform="+e+"]");if(n.length==0){return false}var a="multipleCheckRecursion; multipleListRecursion; multipleCheck; multipleList; singleList; singleCheck;";t=t.toLowerCase();if(a.toLowerCase().indexOf(t)<0){if(console)console.error("hdTreeform.inithdTreeform err:初始化参数formType错误!");return false}var l=null,r=null,s=null;l=JSON.stringify(i);l=JSON.parse(l);if(arguments[3]!=null){r=JSON.stringify(arguments[3]);r=JSON.parse(r)}if(arguments[4]!=null){s=JSON.stringify(arguments[4]);s=JSON.parse(s)}if(window.hdTreeformObj==null){window.hdTreeformObj={};window.hdTreeformObjText={}}delete hdTreeformObj[e];hdTreeformObj[e]={list:[],initList:[]};delete hdTreeformObjText[e];if(n.find("option").attr("initText")==null||n.find("option").attr("initText")==""){n.find("option").attr("initText",n.find("option").text())}hdTreeformObjText[e]={title:n.find("option").attr("initText"),list:[]};n.find("option").text(hdTreeformObjText[e].title);n.find("select").attr("title",hdTreeformObjText[e].title);n.find("select").unbind("click");n.find("select").bind("click",function(){hdTreeformBoxToggle(e)});n.find("select").attr("hover","in");n.find("select").unbind("blur");n.find("select").bind("blur",function(){hdTreeformBoxHide(e)});n.find("select").unbind("keypress");n.find("select").bind("keypress",function(){if(event.keyCode=="13"||event.keyCode=="32"){$(this).click();return false}});n.unbind("mouseover");n.unbind("mouseout");n.bind("mouseover",function(){n.find("select").attr("hover","in")});n.bind("mouseout",function(){n.find("select").attr("hover","out")});n.find("a[expandAll]").unbind("click");n.find("a[expandNone]").unbind("click");n.find("a[expandAll]").bind("click",function(){hdleafToggleBatch(e,true)});n.find("a[expandNone]").bind("click",function(){hdleafToggleBatch(e,false)});n.find("a[checkAll]").unbind("click");n.find("a[checkNone]").unbind("click");n.find("a[checkAll]").bind("click",function(){hdTreeformCheckBatch(e,true)});n.find("a[checkNone]").bind("click",function(){hdTreeformCheckBatch(e,false)});hdTreeRender(e,t,l,s);hdTreeformBindItem(e,t);if(r!=null){for(var o=0;o<r.length;o++){delete r[o].$$hashKey;delete r[o].icon;delete r[o].isValue;hdTreeformObj[e].initList.push(r[o])}hdTreeformInitValue(e,t)}if(n.attr("readonly")){n.find("div[leafItem]").unbind("click");n.find("a[checkAll]").hide();n.find("a[checkNone]").hide()}if(t.indexOf("single")>=0){n.find("div[hdTreeformCtrl=check]").hide()}if(t.indexOf("list")>=0){n.find("select").hide();n.unbind("mouserover");n.unbind("mouseout");n.find("div[hdTreeform]").css("height","100%");n.find("div[hdTreeformBox]").show();n.find("div[hdTreeformBox]").css("position","relative");n.find("div[hdTreeformBox]").css("z-index","0");n.find("div[hdTreeformBox]").css("box-shadow","none");n.find("div[hdTreeformBox]").css("height","100%");n.find("div[hdTreeformRoot]").css("max-height","100%");n.find("div[hdTreeformRoot]").css("height","100%")}}catch(e){if(console)console.error("hdTreeform.inithdTreeform err:"+e.message)}};var hdTreeRender=function(e,t,i,n){var a=$("div[hdTreeform="+e+"]")
;var l='<div leaf="initId" leafParent="">'+"<div leafFlag><i></i></div>"+"<div leafOper></div>"+"<div leafItem>"+"<div leafItemMult canBindCheck></div>"+"<div leafItemIcon canBindCheck></div>"+"<div leafItemText canBindCheck></div>"+"</div>"+"</div>";a.find("div[hdTreeformRoot]").html("");for(var r=0;r<i.length;r++){if(i[r].$$hashKey){delete i[r].$$hashKey}var s=null,o=null;var d=false;s=a.find("div[leaf='"+i[r].pId+"']");if(s.length==0){s=a.find("div[hdTreeformRoot]");d=true}s.append(l);o=$("div[leaf=initId]");o.attr("leaf",i[r].id);o.attr("leafParent",i[r].pId);o.find("div[leafItemText]").text(i[r].name);if(i[r].icon){o.find("div[leafItemIcon]").append(i[r].icon);o.find("div[leafItemIcon]").css("width","20px");delete i[r].icon}if(i[r].isValue!=null){o.attr("isValue",i[r].isValue);delete i[r].isValue}else{o.attr("isValue",true)}o.find("div[leafItemMult]").append('<div class="hdCheck"><input type="checkbox"><label></label></div>');o.find("div[leafItemMult]").css("width","20px");if(t.indexOf("single")>=0){o.find("div[leafItemMult]").find('div[class="hdCheck"]').hide();o.find("div[leafItemMult]").css("width","1px")}o.attr("itemObj",JSON.stringify(i[r]));if(!d){o.hide();o.parent().find("i").first().removeClass();o.parent().find("i").first().addClass("iconfont icon-xiangyousanjiaoxian");o.parent().find("div[leafFlag]").first().unbind("click.falg");o.parent().find("div[leafFlag]").first().bind("click.falg",function(){hdleafToggle($(this))})}if(n!=null&&o.attr("isValue")=="true"){for(var c=0;c<n.length;c++){if(n[c].icon!=null&&n[c].icon!=""){o.find("div[leafOper]").append('<a no="'+c+'" title="'+n[c].text+'">'+n[c].icon+"</a>")}else{o.find("div[leafOper]").append('<a no="'+c+'" title="'+n[c].text+'">'+n[c].text+"</a>")}o.find("div[leafOper]").children('a[no="'+c+'"]').bind("click",function(){hdTreeformEx(e,$(this))})}o.find("div[leafItemText]").css("padding-right",c*25)}}};var hdTreeformEx=function(e,t){var i=$("div[hdTreeform="+e+"]");var n=t.parent().parent();if(angular.element(i.get(0)).scope().hdTreeformCallBackEx!=null){angular.element(i.get(0)).scope().hdTreeformCallBackEx(e,t.attr("no"),JSON.parse(n.attr("itemObj")))}};var hdleafToggle=function(e){var t=e.parent();t.find("div[leafParent="+t.attr("leaf")+"]").fadeToggle(100);if(e.find("i").hasClass("icon-xiangyousanjiaoxian")){e.find("i").removeClass("icon-xiangyousanjiaoxian");e.find("i").addClass("icon-xialasanjiao1-copy-copy");return}if(e.find("i").hasClass("icon-xialasanjiao1-copy-copy")){e.find("i").removeClass("icon-xialasanjiao1-copy-copy");e.find("i").addClass("icon-xiangyousanjiaoxian");return}};var hdleafToggleBatch=function(e,t){var i=$("div[hdTreeform="+e+"]");i.find("div[leaf]").each(function(){if(t){if($(this).parent("div[leaf]").length!=0)$(this).fadeIn(100);if($(this).find("div[leafFlag]").find("i").first().hasClass("iconfont")){$(this).find("div[leafFlag]").find("i").first().removeClass("icon-xiangyousanjiaoxian");$(this).find("div[leafFlag]").find("i").first().addClass("icon-xialasanjiao1-copy-copy")}}else{if($(this).parent("div[leaf]").length!=0)$(this).fadeOut(100);if($(this).find("div[leafFlag]").find("i").first().hasClass("iconfont")){$(this).find("div[leafFlag]").find("i").first().removeClass("icon-xialasanjiao1-copy-copy");$(this).find("div[leafFlag]").find("i").first().addClass("icon-xiangyousanjiaoxian")}}})};var hdTreeformBindItem=function(e,t){try{var i=$("div[hdTreeform="+e+"]");i.find("input[type=checkbox]").each(function(){this.checked=false});i.find("div[leafItem]").unbind("click");i.find("div[leafItem]").bind("click",function(){hdTreeformCheck(e,t,$(this))})}catch(e){if(console)console.error("hdTreeform.hdTreeformBindItem err:"+e.message)}};var hdTreeformInitValue=function(e,t){var i=$("div[hdTreeform="+e+"]");i.find("div[leafItem]").each(function(){if($(this).find("input[type=checkbox]").first().is(":checked")){return true}for(var i=0;i<hdTreeformObj[e].initList.length;i++){if(JSON.stringify(hdTreeformObj[e].initList[i])==$(this).parent().attr("itemObj")){hdTreeformCheck(e,t,$(this))}}});i.find("div[leaf]").each(function(){if($(this).find("input[type=checkbox]").is(":checked")){$(this).parent().children("div[leaf]").show();if($(this).parent().find("div[leafFlag]").find("i").first().hasClass("icon-xiangyousanjiaoxian")){$(this).parent().find("div[leafFlag]").find("i").first().removeClass("icon-xiangyousanjiaoxian");$(this).parent().find("div[leafFlag]").find("i").first().addClass("icon-xialasanjiao1-copy-copy")}}})};var hdTreeformCheck=function(e,t,i){try{function n(e,t,i){t.find("div[leafParent="+t.attr("leaf")+"]").each(function(){n(e,$(this),i)});t.find("div[class=hdCheck]").first().removeAttr("disabled");t.find("input[type=checkbox]").first().get(0).checked=i;r(e,t)}function a(e,i,n){var l=i.parent('div[leaf="'+i.attr("leafParent")+'"]');if(l.length==0){return}var s=i.find("input[type=checkbox]").first().is(":checked")&&i.find("div[class=hdCheck]").first().attr("disabled")!="disabled";var o=i.find("input[type=checkbox]").first().is(":checked");var d=false;i.siblings("div[leaf]").each(function(){o=o||$(this).find("input[type=checkbox]").first().is(":checked");s=s&&$(this).find("input[type=checkbox]").first().is(":checked")&&$(this).find("div[class=hdCheck]").first().attr("disabled")!="disabled"});if(o){d="abstract"}if(s){d=true}if(d==false){l.find("div[class=hdCheck]").first().removeAttr("disabled");l.find("input[type=checkbox]").first().get(0).checked=false}if(d=="abstract"){l.find("div[class=hdCheck]").first().attr("disabled","disabled");l.find("input[type=checkbox]").first().get(0).checked=true}if(d==true){l.find("div[class=hdCheck]").first().removeAttr("disabled");l.find("input[type=checkbox]").first().get(0).checked=true}a(e,l,d);if(t.indexOf("recursion")>0){r(e,l)}}function l(e){hdTreeformObj[e].list=[];hdTreeformObjText[e].list=[];s.find("div[leafItem]").css("background-color","");s.find("input[type=checkbox]").each(function(){this.checked=false})}function r(e,i){if(i.attr("isValue")!="true"){return}for(var n=0;n<hdTreeformObj[e].list.length;n++){if(JSON.stringify(hdTreeformObj[e].list[n])==i.attr("itemObj")){hdTreeformObj[e].list.splice(n,1);hdTreeformObjText[e].list.splice(n,1);break}}if(i.find("input[type=checkbox]").first().is(":checked")){hdTreeformObj[e].list.push(JSON.parse(i.attr("itemObj")));hdTreeformObjText[e].list.push(i.find("div[leafItemText]").first().text());if(t.indexOf("single")>=0){i.children("div[leafItem]").css("background-color","#D9EDF7")}}}var s=$("div[hdTreeform="+e+"]");var o=i.parent();if(t.indexOf("single")>=0){l(e)}i.find("div[class=hdCheck]").first().removeAttr("disabled");i.find("input[type=checkbox]").get(0).checked=!i.find("input[type=checkbox]").get(0).checked;r(e,o);if(t.indexOf("recursion")>=0){n(e,o,i.find("input[type=checkbox]").get(0).checked);a(e,o,i.find("input[type=checkbox]").get(0).checked)}hdTreeformCheckText(e);if(o.attr("isValue")=="true"){if(t.indexOf("single")>=0&&t.indexOf("list")<0){s.find("div[hdTreeformBox]").hide()}if(angular.element(s.get(0)).scope().hdTreeformCallBackItem!=null){angular.element(s.get(0)).scope().hdTreeformCallBackItem(e,JSON.parse(o.attr("itemObj")),o.find("input[type=checkbox]").first().is(":checked"))}}}catch(e){if(console)console.error("hdTreeform.hdTreeformCheck err:"+e.message)}};var hdTreeformCheckBatch=function(e,t){try{var i=$("div[hdTreeform="+e+"]");i.find("div[class=hdCheck]").removeAttr("disabled");i.find("input[type=checkbox]").each(function(){this.checked=t});hdTreeformObj[e].list=[];hdTreeformObjText[e].list=[];if(t){i.find("div[leaf]").each(function(){if($(this).attr("isValue")=="true"){hdTreeformObj[e].list.push(JSON.parse($(this).attr("itemObj")));hdTreeformObjText[e].list.push($(this).find("div[leafItemText]").first().text())}})}hdTreeformCheckText(e)}catch(e){if(console)console.error("hdTreeform.hdTreeformCheckBatch err:"+e.message)}};var hdTreeformCheckText=function(e){try{var t=$("div[hdTreeform="+e+"]");var i=hdTreeformObjText[e].list.length;t.find("span").text(i);var n="已选择：";for(var a=0;a<i;a++){n=n+hdTreeformObjText[e].list[a].toString()+"；"}if(i==0){t.find("option").text(hdTreeformObjText[e].title);t.find("select").attr("title",hdTreeformObjText[e].title)}else{t.find("option").text(n);t.find("select").attr("title",n)}}catch(e){if(console)console.error("hdTreeform.hdTreeformCheckText err:"+e.message)}};var hdTreeformBoxToggle=function(e){try{var t=$("div[hdTreeform="+e+"]");t.find("select").attr("disabled","true");t.find("div[hdTreeformBox]").toggle();t.find("select").removeAttr("disabled");t.find("select").focus();if(t.find("div[hdTreeformBox]").css("display")=="none"){if(angular.element(t.get(0)).scope().hdTreeformCallBack!=null){angular.element(t.get(0)).scope().hdTreeformCallBack(e)}}}catch(e){if(console)console.error("hdTreeform.hdTreeformBoxToggle err:"+e.message)}};var hdTreeformBoxHide=function(e){try{var t=$("div[hdTreeform="+e+"]");if(t.find("select").attr("hover")=="out"){if(t.find("div[hdTreeformBox]").css("display")!="none"){t.find("div[hdTreeformBox]").hide();if(angular.element(t.get(0)).scope().hdTreeformCallBack!=null){angular.element(t.get(0)).scope().hdTreeformCallBack(e)}}}else{t.find("select").focus()}}catch(e){if(console)console.error("hdTreeform.hdTreeformBoxHide err:"+e.message)}};window.hdInputSearchForSetTimeout=0;function initHdInputSearch(e){var t=1,i=300;var n=$("input[hdInputSearch="+e+"]");if(!n.length||n.length==0)return false;if(arguments[1]!=null&&!isNaN(arguments[1]))t=arguments[1];if(arguments[2]!=null&&!isNaN(arguments[2]))i=arguments[2];n.each(function(){$(this).unbind("input.hdInputSearch propertychang.hdInputSearch keydown.hdInputSearch");$(this).bind("input.hdInputSearch propertychang.hdInputSearch",function(){hdInputSearchBefore($(this),t,i,e)});$(this).bind("keydown.hdInputSearch",function(){return hdInputSearchKeyDown($(this),e)})})}function hdInputSearchKeyDown(e,t){var i=$("div[hdInputSearch="+t+"]");var n,a,l;var r=38,s=40,o=32,d=13,c=37,u=39,h=9;if(event.keyCode!=r&&event.keyCode!=s&&event.keyCode!=d&&event.keyCode!=h){return true}n=i.find(".getHover");if(event.keyCode==d){if(n.length>0){n.click();return false}else{if(angular.element(e.get(0)).scope().hdInputSearchEnter!=null){angular.element(e.get(0)).scope().hdInputSearchEnter(e,t)}hdInputSearchHideOnly(e,t);return false}}if(event.keyCode==s&&n.length==0){n=i.find("tr").first();n.addClass("getHover");return true}a=n.next();l=n.prev();if(event.keyCode==s&&a.length>0){a.addClass("getHover");n.removeClass("getHover");i.get(0).scrollTop=(i.find("tr").index(n)-3)*a.get(0).clientHeight;return false}if(event.keyCode==r){if(l.length>0){l.addClass("getHover");n.removeClass("getHover");i.get(0).scrollTop=(i.find("tr").index(n)-5)*l.get(0).clientHeight}else{n.removeClass("getHover")}return false}}function hdInputSearchBefore(e,t,i,n){var a=$("div[hdInputSearch="+n+"]");hdInputSearchClear(e,n);if(hdInputSearchForSetTimeout!=0){clearTimeout(hdInputSearchForSetTimeout);hdInputSearchForSetTimeout=0}if(e.val().length<t){hdInputSearchHideOnly(e,n);return false}hdInputSearchForSetTimeout=setTimeout(function(){hdInputSearchStart(e,n)},i)}function hdInputSearchStart(e,t){hdInputSearchForSetTimeout=0;if(angular.element(e.get(0)).scope().hdInputSearchStart!=null){angular.element(e.get(0)).scope().hdInputSearchStart(e,t)}setTimeout(function(){hdInputSearchBind(e,t)},50)}function hdInputSearchBind(e,t){var i=$("div[hdInputSearch="+t+"]");var n=e.parent();var a=n.css("position");if(a=="inherit"||a=="initial"||a=="static"){n.css("position","relative")}n.append(i);n.unbind("mouseover.hdInputSearch mouseout.hdInputSearch");n.bind("mouseover.hdInputSearch",function(){i.attr("hover","in")});n.bind("mouseout",function(){i.attr("hover","out")});e.unbind("blur.hdInputSearch");e.bind("blur.hdInputSearch",function(){hdInputSearchHide(e,t)});if(i.find("tr[hdInputSearchExFun]").length>0){i.find("tr[hdInputSearchExFun]").unbind("click.hdInputSearch");i.find("tr[hdInputSearchExFun]").bind("click.hdInputSearch",function(){hdInputSearchHideOnly(e,t);if(angular.element(e.get(0)).scope().hdInputSearchExFun!=null){angular.element(e.get(0)).scope().hdInputSearchExFun(e,t)}})}i.off("click.hdInputSearch","tr[itemObj]");i.on("click.hdInputSearch","tr[itemObj]",function(){hdInputSearchCheck(e,$(this),t)});i.show();i.css("top","auto");if(i.get(0).getBoundingClientRect().top+i.get(0).getBoundingClientRect().height>document.documentElement.clientHeight){i.css("top",5-i.get(0).getBoundingClientRect().height)}i.find("tr").removeClass("getHover")}function hdInputSearchCheck(e,t,i){var n=$("div[hdInputSearch="+i+"]");e.attr("itemObj",t.attr("itemObj"));hdInputSearchHideOnly(e,i);if(angular.element(e.get(0)).scope().hdInputSearchCheckOne!=null){angular.element(e.get(0)).scope().hdInputSearchCheckOne(e,i)}}function hdInputSearchClear(e,t){e.attr("itemObj","")}function hdInputSearchHide(e,t){try{var i=$("div[hdInputSearch="+t+"]");var n=e.parent();if(i.attr("hover")=="out"){e.unbind("blur.hdInputSearch");n.unbind("mouseover.hdInputSearch mouseout.hdInputSearch");i.attr("hover","out");i.hide();if(angular.element(e.get(0)).scope().hdInputSearchCheckNone!=null){angular.element(e.get(0)).scope().hdInputSearchCheckNone(e,t)}}else{e.focus()}}catch(e){if(console)console.error("hdInputSearch.hdInputSearchHide err:"+e.message)}}function hdInputSearchHideOnly(e,t){try{var i=$("div[hdInputSearch="+t+"]");var n=e.parent();e.unbind("blur.hdInputSearch");n.unbind("mouseover.hdInputSearch mouseout.hdInputSearch");i.attr("hover","out");i.hide()}catch(e){if(console)console.error("hdInputSearch.hdInputSearchHideOnly err:"+e.message)}}function commonVerify(e){var t=true;var i="";var n=$("body");if(e!=null&&$("#"+e).length>0){n=$("#"+e)}n.find("[hdMust]").each(function(){var e=$(this);var a=false;if($(this).get(0).getBoundingClientRect().width==0){a=true;return}if(($(this).hasClass("hdRadio")||$(this).hasClass("hdCheck"))&&$(this).get(0).tagName!="INPUT"){e=e.find("input");n.find('input[name="'+e.attr("name")+'"]').each(function(){if($(this).get(0).checked){a=true;return}})}else if($(this).hasClass("hdDate")&&$(this).get(0).tagName!="INPUT"){e=e.find("input");if(e.val()!=""){a=true}}else if($(this).attr("hdMultiple")!=null){e=e.find("select");if(window.hdMultipleObj[$(this).attr("hdMultiple")].list.length>0){a=true}}else if($(this).attr("hdTreeform")!=null){e=e.find("select");if(window.hdTreeformObj[$(this).attr("hdTreeform")].list.length>0){a=true}}else if($(this).get(0).type=="radio"||$(this).get(0).type=="checkbox"){n.find('input[name="'+$(this).attr("name")+'"]').each(function(){if($(this).get(0).checked){a=true;return}})}else if($(this).attr("contenteditable")!=null&&$(this).get(0).tagName=="DIV"){if($(this).html()!=""){a=true}}else{if($(this).val()!=""){a=true}}if("text/textarea/password/".indexOf($(this).get(0).type)>=0){i="请输入"+$(this).attr("hdMust")}else{i="请选择"+$(this).attr("hdMust")}if(!a){commonVerifyTipCreate($(this),e,i);t=false;return false}});if(!t)return t;n.find("[hdIdCard]").each(function(){var e=window.hdUtils.idCardValid($(this).val());if(e!=""){i=e;commonVerifyTipCreate($(this),$(this),i);t=false;return false}});return t}function commonVerifyTipCreate(e,t,i){if(t.css("visibility")=="hidden"){t.css("visibility","visible");t.focus();t.css("visibility","hidden")}t.focus();var n,a;$("div[commonVerifyTipObj]").remove();n=""+'<div commonVerifyTipObj style="min-width: 90px;position: fixed; z-index: 9999;">'+'<span style="width: 100%; height: 26px; padding: 6px 10px 4px 10px;'+" background-color: #fff7ec; border: 1px solid #ffd248; border-radius: 2px; white-space: nowrap;"+' font-size: 12px; line-height: 26px;">'+i+"</span>"+'<img style="position:absolute; z-index: 1; top: 23px; left: 20px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUMxQjlEMDc4MjQzMTFFNzhEMEZCRDBGMkFDN0FENjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUMxQjlEMDg4MjQzMTFFNzhEMEZCRDBGMkFDN0FENjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzFCOUQwNTgyNDMxMUU3OEQwRkJEMEYyQUM3QUQ2NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzFCOUQwNjgyNDMxMUU3OEQwRkJEMEYyQUM3QUQ2NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjDICqwAAACgSURBVHjaYvz//c00BgaGTAb8YDoTw514AYZv13ArAcndiednYvj/N4Ph+cRHDL9fYioCiYHk/v/NZGJQXfKJ4d/XSIanXX8Z/n1DKAKxwWJAOaAaJrCg6pJjQN0tDM8ngFRAMIgNEgPJAQELkkXNQPe4MbxaZAl123GwGBQwAn2NUHo7RgFIXoTy9IGmPUAovOSB7oUokDgQL0UWBAgwADAkRwuppuGkAAAAAElFTkSuQmCC">'+"</div>";$("body").append(n);a=$("div[commonVerifyTipObj]");a.css("top",e.get(0).getBoundingClientRect().top-32);a.css("left",e.get(0).getBoundingClientRect().left);if(window.varCommonVerifyInterval!=null){clearInterval(window.varCommonVerifyInterval);window.varCommonVerifyInterval=null}window.varCommonVerifyInterval=setInterval(function(){if(parseFloat(e.get(0).getBoundingClientRect().top-32).toFixed(0)!=parseFloat(a.css("top")).toFixed(0)||parseFloat(e.get(0).getBoundingClientRect().left).toFixed(0)!=parseFloat(a.css("left")).toFixed(0)){commonVerifyTipClear()}if(e.get(0).getBoundingClientRect().width==0){commonVerifyTipClear()}},10);if(window.varCommonVerifyTimeOut!=null){clearTimeout(window.varCommonVerifyTimeOut);window.varCommonVerifyTimeOut=null}window.varCommonVerifyTimeOut=setTimeout("commonVerifyTipClear()",3e3)}function commonVerifyTipClear(){if(window.varCommonVerifyInterval!=null){clearInterval(window.varCommonVerifyInterval);window.varCommonVerifyInterval=null}$("div[commonVerifyTipObj]").remove();clearTimeout(window.varCommonVerifyTimeOut);window.varCommonVerifyTimeOut=null}(function(){angular.module("hd.autoFocus",[]).directive("hdAutoFocus",["$timeout",function(e){return{scope:{hdAutoFocus:"@"},link:function(t,i){t.hdAutoFocus=false;e(function(){if(!t.hdAutoFocus){return}if(i.find("input").length){i.find("input")[0].focus()}else if(i.find("textarea").length){i.find("textarea")[0].focus()}else{i[0].focus()}})}}}])})();