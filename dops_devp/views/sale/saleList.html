
<table hdView>
  <tr hdHead>
    <td><span hdHeadLine>
      <!-- 标题*开始-->
      销售查询
      <!-- 标题*结束-->
      </span></td>
    <td>
      <!-- 按钮*开始-->
      <button btnMain="m1" ng-click="gotoSaleAdd()">销售查询</button>
      <!-- 按钮*开始-->
    </td>
  </tr>
  <tr hdContaner>
    <td colspan="2">
      <div hdContanerDiv>
        <!-- 内容*开始-->
        <div class="searchBar">
          <table class="searchCon" cellspacing="0" cellpadding="0" border="0" style="border-collapse: collapse;  border-spacing: 0px;">
            <tr>
              <td class="text"><span class="red">*</span>收银机=</td>
              <td class="component">
                <select ng-model="dataManage.request.query.filter[0].value">
                  <option value="">全部</option>
                  <option ng-repeat="item in dataManage.response.posList" value="{{item.posNo}}">{{item.posNo}}</option>
                </select>
              </td>
              <td class="text"><span class="red">*</span>商品=</td>
              <td class="component">
                <input ng-model="dataManage.shopRequest.query" initHdMultiplemaxlength="16" hdMust="代码" hdInputSearch="hdInputSearch1" title="输入2个字符之后开始搜索">
              </td>
              <td class="text"><span class="red">*</span>金额>=</td>
              <td class="component">
                <input type="text" ng-model="dataManage.request.query.filter[2].value">
              </td>
            </tr>
            <tr>
              <td class="text"><span class="red">*</span>金额<=</td>
              <td class="component">
                <input type="text" ng-model="dataManage.request.query.filter[3].value">
              </td>
              <td class="text"><span class="red">*</span>会员=</td>
              <td class="component">
                <input ng-model="dataManage.customerRequest.query" maxlength="16" hdMust="代码" hdInputSearch="hdInputSearch2" title="输入2个字符之后开始搜索">
              </td>
              <td class="text"><span class="red">*</span>支付方式</td>
              <td class="component">
                <div hdMultiple="orderWayTree">
                  <select><option>全部</option></select>
                  <div hdMultipleContent>
                    <div hdMultipleList>
                      <table>
                        <tr ng-repeat="item in payWayList" itemObj="{{item}}">
                          <td><div class="hdCheck"><input type="checkbox"><label></label></div></td>
                          <td text>{{item.name}}</td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td class="text"><span class="red">*</span>操作人</td>
              <td class="component">
                <input type="text" ng-model="dataManage.request.query.filter[6].value">
              </td>
              <td class="text"><span class="red">*</span>销售单号</td>
              <td class="component">
                <input type="text" ng-model="dataManage.request.query.filter[7].value">
              </td>
              <td class="text"><span class="red">*</span>优惠>=</td>
              <td class="component">
                <input type="text" ng-model="dataManage.request.query.filter[8].value">
              </td>
            </tr>
            <tr>
              <td class="text"><span class="red">*</span>优惠<=</td>
              <td class="component">
                <input type="text" ng-model="dataManage.request.query.filter[9].value">
              </td>
              <td class="text"></td>
              <td class="component"></td>
              <td class="text" colspan="2">
              <div class="searchBar-btn">
              <button btnSearch="s1" ng-click="search()">查询</button>
              <button btnsearch="s2" ng-click="reset()">清空</button>
              </div>

              </td>
            </tr>
          </table>
        </div>

        <div class="listBar">
          <div class="tableCon">
            <div class="tool">
              <span ng-show="showDay">
            <span ng-click="preDay()" style="cursor: pointer">&lt;</span>
            <span>
              <hd-date-input style="width: 100px" ng-model="showByDay"></hd-date-input>
            </span>
            <span ng-click="nextDay()" style="cursor: pointer">&gt;</span>
          </span>
              <span ng-show="showWeek">
                <span ng-click="preWeek()" style="cursor: pointer">&lt;</span>
                <span>
                  <hd-date-input style="width: 100px"  ng-model="showByWeekStart"></hd-date-input>-
                  <hd-date-input style="width: 100px" ng-model="showByWeekEnd"></hd-date-input>
                </span>
                <span ng-click="nextWeek()" style="cursor: pointer">&gt;</span>
              </span>
              <span ng-show="showMonth">
                <span ng-click="preMonth()" style="cursor: pointer">&lt;</span>
                <span>
                  <hd-date-button style="width: 100px" ng-model="showByMonth"></hd-date-button>
                  <!--<hd-date-input style="width: 100px" ng-model="showByMonth"></hd-date-input>-->
                </span>
                <span ng-click="nextMonth()" style="cursor: pointer">&gt;</span>
              </span>
              <span ng-show="showDate">
                <hd-date-input style="width: 140px"  ng-model="showByDateFrom"></hd-date-input>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;
                <hd-date-input style="width:140px" ng-model="showByDateTo"></hd-date-input>
                <span style="padding-right: 0px;width: 50px;display: inline-block">最近:</span>
                <span style="padding-left: 0px;padding-right: 0px;display: inline-block;margin-bottom: -10px">
                  <ul class="hd-tab-pill" hd-tab ng-model="dataManage.request.params.scope">
                    <li value="week" ng-click="changeDate('DAY')" class="hd-tab-active" style="float: left;margin: 0 10px;cursor: pointer">7天</li>
                    <li value="month" ng-click="changeDate('MONTH')" style="float: left;margin: 0 10px;cursor: pointer">3个月</li>
                    <li value="threeMonth" ng-click="changeDate('YEAR')" style="float: left;margin: 0 10px;cursor: pointer">半年</li>
                  </ul>
                </span>
              </span>
              <div style="float: right">
                <ul hdTab_5><!--如一个界面中有多个同类型标签，则需要把name="tab5"修改其中的name-->
                  <li name="tab5" onclick="$('li[name=tab5]').removeClass('tbfocus'); $(this).addClass('tbfocus')" class="tbfocus" ng-click="changeQueryDate('byDay')">按日</li>
                  <li name="tab5" onclick="$('li[name=tab5]').removeClass('tbfocus'); $(this).addClass('tbfocus')" ng-click="changeQueryDate('byWeek')">按周</li>
                  <li name="tab5" onclick="$('li[name=tab5]').removeClass('tbfocus'); $(this).addClass('tbfocus')" ng-click="changeQueryDate('byMonth')">按月</li>
                  <li name="tab5" onclick="$('li[name=tab5]').removeClass('tbfocus'); $(this).addClass('tbfocus')" ng-click="changeQueryDate('byDate')">按日期</li>
                </ul>
              </div>
            </div>
            <div>
              <div style="padding:15px;margin-bottom: -10px;position:relative;left:0;right:0;width:100%;">
                  <div class="hd-tab-pill" hd-tab ng-model="dataManage.request.params.scope"
                       style="overflow:hidden;width:890px;margin:auto;">
                    <div style="float:left;width:25%;border-right:1px solid #f2f2f2;">
                      <span style="display: inline-block">合计</span>
                      <span style="display: inline-block;padding:0 10px;">{{sumList.creditUnPaidQty}}笔</span>
                      <span style="display: inline-block;padding:0 10px;">￥{{sumList.totalAmount | number:2}}</span>
                    </div>
                     <div style="float:left;width:23%;border-right:1px solid #f2f2f2;padding-left:2%;">
                       <span style="display: inline-block">赊账已付款 </span>
                       <span style="color: #00B83F;display: inline-block;padding:0 5px;">{{sumList.creditPaidQty}}笔</span>
                       <span style="color: #00B83F;display: inline-block;padding:0 5px;">￥{{sumList.creditPaidAmount | number:2}}</span>
                     </div>
                    <div style="float:left;width:23%;border-right:1px solid #f2f2f2;padding-left:2%;">
                      <span style="display: inline-block">赊账未付款 </span>
                      <span style="color: red;display: inline-block;padding:0 5px;">{{sumList.creditUnPaidQty}}笔</span>
                      <span style="color: red;display: inline-block;padding:0 5px;">￥{{sumList.creditUnPaidAmount | number:2}}</span>
                    </div>
                    <div style="float:left;width:23%;padding-left:2%;">
                      <span style="display: inline-block">优惠</span>
                      <span style="display: inline-block;padding:0 5px;">￥{{sumList.totalDiscountAmount | number:2}}</span>
                    </div>
                  </div>
                </div>
            </div>
            <div style="text-align: right;margin-bottom: 15px">
              图释：
              <span style="display: inline-block;background: red;width: 20px;height: 20px;color: white;padding-right: 4px">退</span>
              存在退货
            </div>
            <div class="tableDiv">
              <!-- 如果需要table的横向滚动，则修改设置table的min-width，具体值应为td的宽度总和-->
              <table class="table" cellpadding="1" cellspacing="1" style="min-width:100px">
                <colgroup>
                  <!--必须自定义td宽度-->
                  <col style="width: 80px">
                  <col style="width: 120px">
                  <col style="width: 50px">
                  <col style="width: 100px">
                  <col style="width: 80px">
                  <col style="width: 50px">
                  <col style="width: 50px">
                  <col style="width: 150px">
                </colgroup>
                <tr>
                  <td class="textRight" nowrap="true">收银机</td>
                  <td class="textCenter" nowrap="true">单号</td>
                  <td class="textLeftDiv" nowrap="true">支付方式</td>
                  <td class="textRight" nowrap="true">金额</td>
                  <td nowrap="true" class="textRight">数量</td>
                  <td class="textLeftDiv" nowrap="true">会员</td>
                  <td class="textLeftDiv" nowrap="true">创建人</td>
                  <td nowrap="true" class="textCenter">创建时间</td>
                </tr>
                <tr ng-repeat="item in dataManage.response.saleList">
                  <td class="textRight">{{item.posNo}}</td>
                  <td class="textCenter" ng-click="saleDtl($index)" style="cursor: pointer;color: #00AEEF">{{item.number}}</td>
                  <td class="textLeftDiv">{{item.paymentInfo}}</td>
                  <td class="textRight">{{item.amount}}</td>
                  <td class="textRight">{{item.qty}}</td>
                  <td class="textLeftDiv">{{item.customer.name}}</td>
                  <td class="textLeftDiv">{{item.creator.name}}</td>
                  <td class="textCenter">{{item.created}}</td>
                </tr>
              </table>
            </div>
            <hd-page listcount="{{listcount}}" isPageToOne="{{isPageToOne}}" id="page1"></hd-page>
          </div>
        </div>

        <!-- 内容*结束-->
      </div>
    </td>
  </tr>
</table>

<div hdInputSearch="hdInputSearch1">
  <table>
    <tr ng-repeat="item in dataManage.response.shopList" itemObj="{{item}}">
      <td>{{item.name}}</td>
    </tr>
  </table>
</div>

<div hdInputSearch="hdInputSearch2">
  <table>
    <tr ng-repeat="item in dataManage.response.customerList" itemObj="{{item}}">
      <td>{{item.name}}</td>
    </tr>
  </table>
</div>



